{"version":3,"sources":["webpack:///./src/packages/flowchart/types.ts","webpack:///./src/packages/flowchart/utils/chart.ts","webpack:///./src/packages/flowchart/utils/index.ts","webpack:///./src/packages/flowchart/components/mxgraph/utils.ts","webpack:///./src/packages/flowchart/components/mxgraph/config.tsx","webpack:///./src/packages/flowchart/components/mxgraph/index.tsx","webpack:///./src/packages/flowchart/components/graph/config.tsx","webpack:///./src/packages/flowchart/components/graph/index.tsx","webpack:///./src/packages/flowchart/components/graph/utils.ts","webpack:///./src/packages/flowchart/components/editor/index.tsx","webpack:///./src/packages/flowchart/components/actions/config.tsx","webpack:///./src/packages/flowchart/components/actions/index.tsx","webpack:///./src/packages/flowchart/components/common/hover-icons/index.tsx","webpack:///./src/packages/flowchart/components/toolbar/utils.tsx","webpack:///./src/packages/flowchart/components/common/mask/index.tsx","webpack:///./src/packages/flowchart/components/common/cell-item/index.tsx","webpack:///./src/packages/flowchart/utils/hook.ts","webpack:///./src/packages/flowchart/components/editorui/components/arrow-panel/index.tsx","webpack:///./src/packages/flowchart/components/editorui/utils.tsx","webpack:///./src/packages/flowchart/components/editorui/index.tsx","webpack:///./src/packages/flowchart/components/common/svg/delete.tsx","webpack:///./src/packages/flowchart/components/common/svg/undo.tsx","webpack:///./src/packages/flowchart/components/common/svg/redo.tsx","webpack:///./src/packages/flowchart/components/common/svg/rubberband.tsx","webpack:///./src/packages/flowchart/components/common/svg/alignment.tsx","webpack:///./src/packages/flowchart/components/common/svg/aligntop.tsx","webpack:///./src/packages/flowchart/components/common/svg/aligntbcenter.tsx","webpack:///./src/packages/flowchart/components/common/svg/alignbottom.tsx","webpack:///./src/packages/flowchart/components/common/svg/alignleft.tsx","webpack:///./src/packages/flowchart/components/common/svg/alignlrcenter.tsx","webpack:///./src/packages/flowchart/components/common/svg/alignright.tsx","webpack:///./src/packages/flowchart/components/common/svg/index.tsx","webpack:///./src/packages/flowchart/components/menubar/utils.tsx","webpack:///./src/packages/flowchart/components/menubar/config.tsx","webpack:///./src/packages/flowchart/components/toolbar/config.tsx","webpack:///./src/packages/flowchart/components/menubar/index.tsx","webpack:///./src/packages/flowchart/components/common/img/index.tsx","webpack:///./src/packages/flowchart/components/toolbar/index.tsx","webpack:///./static/mxgraph/images/sidebar/zoom-in.svg","webpack:///./static/mxgraph/images/sidebar/zoom-out.svg","webpack:///./static/mxgraph/images/sidebar/screen-0.svg","webpack:///./static/mxgraph/images/sidebar/screen-1.svg","webpack:///./static/mxgraph/images/sidebar/outline.svg","webpack:///./static/mxgraph/images/sidebar/delete.svg","webpack:///./src/packages/flowchart/components/sidebar/utils.tsx","webpack:///./src/packages/flowchart/components/sidebar/index.tsx","webpack:///./static/mxgraph/images/arrow-t-0.svg","webpack:///./static/mxgraph/images/arrow-t-1.svg","webpack:///./static/mxgraph/images/arrow-r-0.svg","webpack:///./static/mxgraph/images/arrow-r-1.svg","webpack:///./src/packages/flowchart/index.tsx","webpack:///./src/packages/flowchart/__test__.tsx"],"names":["EChartLayout","EEventName","ECellType","ECellKey","expandCells","cells","Object","keys","map","k","getCells","graph","getModel","getChildCellsMap","id","first","Map","cell","model","getCell","set","outgoingEdges","getOutgoingEdges","i","l","length","t","target","has","putStyle","key","style","styleObj","forEach","getStylesheet","putCellStyle","updateCells","updater","beginUpdate","endUpdate","getChartConfig","config","_a","editable","_b","menubar","data","_c","toolbar","_d","onSelectCells","_e","afterUpdateCells","_f","layout","hierarchical","getDefaultGeometry","geo","geometry","x","y","width","height","parseJSON","json","defaultValue","JSON","parse","e","getImageBasePath","path","mxGraphFactory","mxImageBasePath","mxBasePath","mxLoadResources","mxGraph","mxGraphModel","mxCodec","mxUtils","mxClient","mxEvent","mxRubberband","mxCell","mxCellState","mxConstants","mxPerimeter","mxConnectionConstraint","mxEdgeStyle","mxPoint","mxConstraintHandler","mxCellOverlay","mxParallelEdgeLayout","mxLayoutManager","mxCellTracker","mxImage","mxKeyHandler","mxMarker","mxUndoManager","mxEventSource","mxResources","mxPopupMenu","mxGeometry","mxEventObject","mxEllipse","mxGraphView","mxCellRenderer","mxStencil","mxConnector","mxShape","mxEdgeHandler","mxVertexHandler","mxRectangle","mxRectangleShape","mxGraphHandler","mxImageShape","mxMouseEvent","mxPolyline","mxOutline","mxClipboard","mxGuide","mxSvgCanvas2D","mxMultiplicity","mxHierarchicalLayout","mxFastOrganicLayout","window","EDGE_SELECTION_COLOR","VERTEX_SELECTION_COLOR","DROP_TARGET_COLOR","HIGHLIGHT_OPACITY","HIGHLIGHT_STROKEWIDTH","HIGHLIGHT_COLOR","OUTLINE_HIGHLIGHT_COLOR","DEFAULT_VALID_COLOR","VALID_COLOR","HANDLE_FILLCOLOR","OUTLINE_STROKEWIDTH","OUTLINE_COLOR","GUIDE_COLOR","GUIDE_STROKEWIDTH","prototype","createGuideShape","validationAlert","msg","message","error","originMultiplicityCheckType","checkType","value","type","attr","attrValue","undefined","apply","this","arguments","createId","nextId","res","prefix","postfix","isVertex","isEdge","handleImage","pointImage","highlightColor","createHighlightShape","hl","opacity","originalVertexHandlerUnion","union","dxs","dys","index","result","state","bounds","coff","originalVertexHandlerCreateSizerShape","createSizerShape","fillColor","globalConfig","defaultVertexStyle","STYLE_FONTCOLOR","STYLE_FONTSIZE","defaultEdgeStyle","STYLE_EDGE","STYLE_STROKECOLOR","STYLE_LABEL_BACKGROUNDCOLOR","STYLE_VERTICAL_LABEL_POSITION","STYLE_VERTICAL_ALIGN","STYLE_FONTSTYLE","STYLE_ENDARROW","STYLE_STARTARROW","STYLE_ENDFILL","STYLE_JETTYSIZE","STYLE_ORTHOGONAL_LOOP","STYLE_LABEL_PADDING","defaultExtraStyle","edge","highlightEdge","dashEdge","highlightDashEdge","_super","Graph","container","renderHint","stylesheet","extraConfig","_this","call","init","rubberband","setEnabled","IS_TOUCH","disableContextMenu","setTolerance","setPanning","IS_IE","setHtmlLabels","initKeyHandler","initStylesheet","initGuides","initConnection","initCells","initMarker","alternateEdgeStyle","putDefaultVertexStyle","putDefaultEdgeStyle","status","s","keyHandler","isControlDown","evt","IS_MAC","metaKey","setCellsLocked","setCellsEditable","setCellsMovable","setCellsResizable","setEdgeLabelsMovable","setDropEnabled","setTooltips","getTooltipForCell","convertValueToString","addMarker","c","shape","points","scale","ps","xa","ya","xb","yb","len","dot","slice","Math","pow","begin","moveTo","lineTo","node","stroke","setAttribute","setConnectable","setMultigraph","multiplicities","m","push","source","min","max","validNeighbors","countError","typeError","validNeighborsAllowed","setAllowDanglingEdges","getAllConnectionConstraints","terminal","getValue","constraints","connectionHandler","getEdgeColor","valid","getEdgeWidth","createEdgeState","me","createEdge","view","getCellStyle","isConnectableCell","graphHandler","guidesEnabled","useGuidesForEvent","isAltDown","getEvent","gridSize","gridSteps","createPreviewShape","previewColor","graphHandlerGetGuideStates","getGuideStates","guides","pf","pageFormat","pageScale","pw","ph","translate","getPageLayout","j","concat","cellLabelChanged","autoSize","v","setValue","stringify","assign","name","cellSizeUpdated","Editor","initUndoManager","initPageView","undoMgr","undoListener","sender","undoableEditHappened","getProperty","listener","bind","addListener","UNDO","getView","undoHandler","cand","getSelectionCellsForChanges","changes","getState","setSelectionCells","REDO","undoManager","initPageFormat","iw","offsetWidth","ih","offsetHeight","getPagePadding","size","getPageSize","getGraphBounds","ceil","w","floor","h","x0","y0","w0","h0","updatePageBreaks","visible","tr","fmt","bounds2","getBackgroundPageBounds","horizontalCount","minPageBreakDist","verticalCount","right","bottom","horizontalPageBreaks","verticalPageBreaks","drawPageBreaks","breaks","count","pts","round","redraw","pageBreak","pageBreakColor","dialect","isDashed","pageBreakDashed","pointerEvents","backgroundPane","destroy","splice","graphSizeDidChange","sizeDidChange","pages","pad","minw","minh","minimumGraphSize","dx","dy","autoTranslate","tx","ty","setTranslate","scrollLeft","scrollTop","graphViewValidate","validate","hasScrollbars","validateBackgroundPage","backgroundPageShape","firstChild","nodeType","NODETYPE_ELEMENT","nextSibling","createBackgroundPageShape","isShadow","IS_QUIRKS","DIALECT_STRICTHTML","position","insertBefore","className","dblClick","addGestureListeners","fireMouseEvent","MOUSE_DOWN","tooltipHandler","isHideOnHover","hide","isMouseDown","isConsumed","MOUSE_MOVE","MOUSE_UP","validateBackgroundStyles","image","isGridEnabled","phase","IS_SVG","unescape","encodeURIComponent","createSvgGrid","btoa","encode","gridImage","bds","mod","canvas","ownerSVGElement","backgroundPosition","backgroundImage","backgroundColor","color","tmp","minGridSize","tmp2","d","tmp3","NS_SVG","join","graphBounds","gb","rows","cols","editor","ctrlKey","deleteKey","undo","funct","editorUI","enabled","shortcut","tooltip","redo","delete","alignTop","align","alignTBCenter","alignBottom","alignLeft","alignLRCenter","alignRight","Action","ui","addAction","title","substring","get","put","actions","action","HoverIcons","clickHandler","arrowSpacing","updateDelay","activationDelay","currentState","activeArrow","inactiveOpacity","cssCursor","checkCollisions","arrowFill","triangleUp","triangleRight","triangleDown","triangleLeft","roundDrop","refreshTarget","tolerance","arrowUp","createArrow","arrowRight","arrowDown","arrowLeft","elts","resetHandler","reset","repaintHandler","repaint","selectionModel","CHANGE","SCALE_AND_TRANSLATE","TRANSLATE","SCALE","DOWN","UP","ROOT","ESCAPE","mouseDownPoint","relatedTarget","getSource","setDisplay","START_EDITING","graphClick","click","isCellSelected","isTouchEvent","connectionHandlerActive","addMouseListener","mouseDown","isResetEvent","isActive","update","mouseMove","getGraphX","getGraphY","mouseUp","getDirection","getSelectionCount","getSelectionCell","getCellAt","bbox","contains","resetActiveArrow","allowShift","isShiftDown","isMetaDown","isPopupTrigger","img","arrow","IS_IE6","document","compatMode","createElement","VML_PREFIX","src","borderStyle","backgroundRepeat","display","createImage","padding","cursor","convertPoint","getClientX","getClientY","drag","consume","redirectMouseEvents","isMouseEvent","setOpacity","constraintHandler","dir","DIRECTION_EAST","DIRECTION_NORTH","DIRECTION_SOUTH","DIRECTION_WEST","visitNodes","visitor","removeNodes","elt","parentNode","removeChild","popupMenuHandler","hideMenu","stopEditing","start","isMouseTrigger","handler","selectionCellsHandler","getHandler","setHandlesVisible","es","edgeState","direction","setStyle","getStateAt","clearTimeout","updateThread","isCellConnectable","fromRectangle","boundingBox","grow","rotationBbox_1","horizontalOffset","verticalOffset","rotationShape","visibility","positionArrow","clientWidth","clientHeight","intersects","left","top","getCenterX","getCenterY","parseInt","top_1","currentGeo_1","getCellGeometry","checkCollision","isAncestor","isSwimlane","computeBoundingBox","offsetLeft","offsetTop","add","parent_1","getParent","isCellLocked","relative","parent","timeOnTarget","prev","startTime","Date","getTime","setTimeout","panningHandler","isEnabled","setCurrentState","currentFocus","appendChild","EDirection","lastDropTime","cls","commonGetCells","commonGetCell","targets","relations","setEdge","setVertex","VERTEX","cloneCell","afterInitial","getCommonComponent","component","children","cloneElement","props","onClick","insertCell","relateCells","ids","filter","getId","_loop_1","relatedIds","_id","drop","allVertexs","selectedVertexs","getSelectionCells","hasDrop","targetCells","splitFlag","outgoingEdge","nextPosition","next","cellGeo","targetGeo","getGeometry","getCenterGeometry","_x","_y","_width","_height","east","west","north","south","calcNextPosition","Array","from","values","getChildVertexs","g","clone","setGeometry","splitEdge","importCells","insertEdge","scrollCellToVisible","fireEvent","deleteCells","onBefore","onAfter","incomingEdges","getIncomingEdges","linkCellParentAndChild","removeCells","commonInitial","element","dragEl","border","makeDraggable","now","pt","getPointForEvent","isSplitTarget","autoscroll","isGuidesEnabled","commonStatus","others","todo","STYLE_IMAGE","doing","done","ignore","ref","useRef","useState","setKey","listeners","listenersCallback","fn","fnProxy","useCallback","args","_i","current","useEffect","useClosuer","event","callback","render","onInitial","onDestroy","removeListener","itemProps","cmpt","getComponent","item","getValidator","validations","validator","EditorUI","maxZoom","minZoom","initEvents","initWheelZoom","initArrow","initPanning","toolbarMap","reduce","p","hoverIcons","connections","clientX","clientY","clss","background","wrapper","close","unmountComponentAtNode","body","onclick","useMask","autoLayout","fastOrganic","interHierarchySpacing","interRankCellSpacing","execute","getDefaultParent","diagramContainer","spaceKeyPressed","currentInContainer","keydownHandler","which","isEditing","graphFireMouseEvent","evtName","focus","keyupHandler","panningHandlerIsForcePanningEvent","isForcePanningEvent","wheelHandler","func","wait","mustReturn","timeout","currentTime","throttle","zoomIn","force","isZoomWheelEvent","preventDefault","zoom","addMouseWheelListener","bindKey","bindControlKey","bindControlShiftKey","selectAll","clearSelection","copy","cut","paste","moveVertexs","getSelectionModel","select","CLICK","DOUBLE_CLICK","includeEdges","bb","getTerminalPoint","getBoundingBoxFromGeometry","snap","triggerX","triggerY","cellsMoved","canZoom","scaleTo","zoomTo","canUndo","indexOfNextAdd","cellEditor","textarea","innerHTML","execCommand","clearUndo","clear","canAlignment","alignGeo","canRedo","history","canRubberBand","canDelete","highlight","duration","_cells","orderCells","highlightTimer","toggleOverlay","active","customOverlay","getCellOverlays","removeCellOverlays","overlay","ALIGN_RIGHT","ALIGN_TOP","console","log","addCellOverlay","cancelHighlight","selectCells","setCellsValue","setCellValue","delay","loadXml","xml","xmlDoc","parseXml","dec","documentElement","decode","exportXml","pretty","createXmlDocument","getPrettyXml","getXml","viewBox","version","xmlns","xmlnsXlink","strokeWidth","fill","fillRule","transform","rx","strokeLinecap","SVGMapper","alignment","SVG","Cmpt","TitleSVG","restProps","isSub","textAlign","reRender","_j","_k","_l","_m","_o","_p","_q","_r","baseCls","Menubar","forwardedRef","forwardRef","IMG","TitleIMG","Fragment","commonStyle","STYLE_SHAPE","SHAPE_IMAGE","STYLE_PERIMETER","RectanglePerimeter","STYLE_IMAGE_ASPECT","commonRectStyle","STYLE_WHITE_SPACE","commonLabelStyle","STYLE_SPACING_TOP","commonStyle1","commonStyle2","commonConstraints","iconMap","generalStart","generalEnd","draft","review","startSubProcess","send","sign","conditionBranch","manualBranch","split","commonConnections","disabled","getZoomData","step","Zoomer","setZoom","_cls","parseFloat","toFixed","zoomHandler","properties","overlayStyle","overlayClassName","content","Screener","onToggle","MiniMap","setActive","outline","setZoomEnabled","onToggleScreen","fullscreen","Chart","isMobile","wrappedComponentRef","propsRef","setEditorUI","componentRef","_editorUI","_","indexOf","isIFrame","setEditorUi","selectedCells","setSelectedCells","topHidden","setTopHidden","_g","leftHidden","setLeftHidden","_h","rightHidden","setRightHidden","resize","timerId","debounce","addEventListener","removeEventListener","rightPanel","leftPanel"],"mappings":"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","file":"5.index.min.js","sourcesContent":["export var EChartLayout;\n(function (EChartLayout) {\n    EChartLayout[\"hierarchical\"] = \"hierarchical\";\n    EChartLayout[\"fastOrganic\"] = \"fastOrganic\";\n})(EChartLayout || (EChartLayout = {}));\nexport var EEventName;\n(function (EEventName) {\n    EEventName[\"undo\"] = \"flowchart_undo\";\n    EEventName[\"redo\"] = \"flowchart_redo\";\n    EEventName[\"add\"] = \"flowchart_add\";\n    EEventName[\"delete\"] = \"flowchart_delete\";\n    EEventName[\"select\"] = \"flowchart_select\";\n    EEventName[\"rubberband\"] = \"flowchart_rubberband\";\n    EEventName[\"zoom\"] = \"flowchart_zoom\";\n    EEventName[\"update\"] = \"flowchart_update\";\n})(EEventName || (EEventName = {}));\nexport var ECellType;\n(function (ECellType) {\n    ECellType[\"VERTEX\"] = \"VERTEX\";\n    ECellType[\"EDGE\"] = \"EDGE\";\n})(ECellType || (ECellType = {}));\nexport var ECellKey;\n(function (ECellKey) {\n    ECellKey[\"sequenceFlow\"] = \"sequenceFlow\";\n    ECellKey[\"generalStart\"] = \"generalStart\";\n    ECellKey[\"generalEnd\"] = \"generalEnd\";\n    ECellKey[\"draft\"] = \"draft\";\n    ECellKey[\"review\"] = \"review\";\n    ECellKey[\"conditionBranch\"] = \"conditionBranch\";\n    ECellKey[\"manualBranch\"] = \"manualBranch\";\n    ECellKey[\"split\"] = \"split\";\n    ECellKey[\"join\"] = \"join\";\n    ECellKey[\"send\"] = \"send\";\n    ECellKey[\"sign\"] = \"sign\";\n    ECellKey[\"startSubProcess\"] = \"startSubProcess\";\n})(ECellKey || (ECellKey = {}));\n","import { mxUtils, mxCodec, mxClient, mxEvent, } from '../components/mxgraph';\nimport { EChartLayout, } from '../types';\nexport function loadXml(graph, xml) {\n    var xmlDoc = mxUtils.parseXml(xml);\n    var dec = new mxCodec(xmlDoc);\n    var node = xmlDoc.documentElement;\n    dec.decode(node, graph.getModel());\n}\nexport function exportXml(graph, pretty) {\n    var enc = new mxCodec(mxUtils.createXmlDocument());\n    var node = enc.encode(graph.getModel());\n    var xml = pretty ? mxUtils.getPrettyXml(node) : mxUtils.getXml(node);\n    return xml;\n}\nexport function expandCells(cells) {\n    return Object.keys(cells).map(function (k) { return cells[k]; });\n}\nexport function getCell(graph, id) {\n    return graph.model.getCell(id);\n}\nexport function getCells(graph) {\n    return expandCells(graph.getModel().cells || {});\n}\nexport function getChildCellsMap(graph, id, first, map) {\n    map = map || new Map();\n    var cell = getCell(graph, id);\n    if (!cell) {\n        return map;\n    }\n    if (first === false) {\n        map.set(cell.id, cell);\n    }\n    var outgoingEdges = graph.model.getOutgoingEdges(cell);\n    for (var i = 0, l = outgoingEdges.length; i < l; i++) {\n        var t = outgoingEdges[i];\n        map.set(t.id, t);\n        if (t.target && !map.has(t.target.id)) {\n            getChildCellsMap(graph, t.target.id, false, map);\n        }\n    }\n    return map;\n}\nexport function getChildEdges(graph, id) {\n    return Array.from(getChildCellsMap(graph, id).values()).filter(function (c) {\n        return graph.model.isEdge(c);\n    });\n}\nexport function getChildVertexs(graph, id) {\n    return Array.from(getChildCellsMap(graph, id).values()).filter(function (c) {\n        return graph.model.isVertex(c);\n    });\n}\nexport function hasStyle(cell, style) {\n    return (cell.getStyle() || '').indexOf(style) >= 0;\n}\nexport function putStyle(graph, key, style) {\n    var styleObj = new Object();\n    Object.keys(style).forEach(function (k) { return (styleObj[k] = style[k]); });\n    graph.getStylesheet().putCellStyle(key, styleObj);\n}\nexport function updateCells(graph, cells, updater) {\n    graph.model.beginUpdate();\n    try {\n        for (var i = 0, l = cells.length; i < l; i++) {\n            var cell = graph.model.getCell(cells[i].id);\n            cell && updater(graph, cell, i, cells);\n        }\n    }\n    finally {\n        graph.model.endUpdate();\n    }\n}\nexport function isZoomWheelEvent(evt) {\n    return mxClient.IS_MAC ? mxEvent.isMetaDown(evt) : mxEvent.isControlDown(evt);\n}\nexport function getChartConfig(config) {\n    var _a = config.editable, editable = _a === void 0 ? true : _a, _b = config.menubar, menubar = _b === void 0 ? {\n        data: [],\n        map: {},\n    } : _b, _c = config.toolbar, toolbar = _c === void 0 ? {\n        data: [],\n        map: {},\n    } : _c, _d = config.onSelectCells, onSelectCells = _d === void 0 ? function () { } : _d, _e = config.afterUpdateCells, afterUpdateCells = _e === void 0 ? function () { } : _e, _f = config.layout, layout = _f === void 0 ? EChartLayout.hierarchical : _f;\n    return {\n        editable: editable,\n        menubar: menubar,\n        toolbar: toolbar,\n        onSelectCells: onSelectCells,\n        afterUpdateCells: afterUpdateCells,\n        layout: layout,\n    };\n}\nexport function getDefaultGeometry(cell) {\n    var geo = cell.geometry || {};\n    var _a = geo.x, x = _a === void 0 ? 0 : _a, _b = geo.y, y = _b === void 0 ? 0 : _b, _c = geo.width, width = _c === void 0 ? 50 : _c, _d = geo.height, height = _d === void 0 ? 50 : _d;\n    return {\n        width: width,\n        height: height,\n        x: x,\n        y: y,\n    };\n}\nexport function getCenterGeometry(cell) {\n    var geo = cell.getGeometry() || {};\n    var _a = geo.x, x = _a === void 0 ? 0 : _a, _b = geo.y, y = _b === void 0 ? 0 : _b, _c = geo.width, width = _c === void 0 ? 50 : _c, _d = geo.height, height = _d === void 0 ? 50 : _d;\n    return {\n        width: width,\n        height: height,\n        x: x + width / 2,\n        y: y + height / 2,\n    };\n}\n","import { getChartConfig } from './chart';\nexport * from './chart';\nexport * from './hook';\nexport function debounce(fn, delay) {\n    var _this = this;\n    var timerId;\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        if (timerId)\n            clearTimeout(timerId);\n        timerId = setTimeout(function () {\n            fn.apply(_this, args);\n        }, delay);\n    };\n}\nexport function throttle(func, wait, mustReturn) {\n    var _this = this;\n    var timeout;\n    var startTime = Date.now();\n    return function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        var currentTime = Date.now();\n        timeout && clearTimeout(timeout);\n        if (mustReturn && currentTime - startTime >= mustReturn) {\n            startTime = currentTime;\n            func.apply(_this, args);\n        }\n        else {\n            timeout = setTimeout(func.bind(_this, args), wait);\n        }\n    };\n}\nexport function parseJSON(json, defaultValue) {\n    if (typeof json === 'object') {\n        return json || defaultValue || {};\n    }\n    try {\n        return JSON.parse(json) || defaultValue || {};\n    }\n    catch (e) {\n        return defaultValue || {};\n    }\n}\nexport function getEditorUIFromChartRef(chartRef) {\n    var editorUI = chartRef && chartRef.current && chartRef.current.editorUI;\n    return editorUI || undefined;\n}\nexport function getToolbarConfigFromEditorUI(editorUI) {\n    return getChartConfig(editorUI.config).toolbar;\n}\nexport function getMenubarConfigFromEditorUI(editorUI) {\n    return getChartConfig(editorUI.config).menubar;\n}\n","export function getBasePath(path) {\n    return \"./static/mxgraph\" + (path ? '/' + path : '');\n}\nexport function getImageBasePath(path) {\n    return \"./static/mxgraph/images\" + (path ? '/' + path : '');\n}\n","export default {\n    themeColor: '#4285f4',\n};\n","import MxGraphFactory from 'mxgraph';\nimport { message } from 'antd';\nimport { parseJSON } from '../../utils';\nimport { getBasePath, getImageBasePath } from './utils';\nimport config from './config';\nexport { config };\nexport * from './utils';\nvar mxGraphFactory = MxGraphFactory({\n    mxImageBasePath: getImageBasePath(),\n    mxBasePath: getBasePath(),\n    mxLoadResources: true,\n});\nexport var mxGraph = mxGraphFactory.mxGraph;\nexport var mxGraphModel = mxGraphFactory.mxGraphModel;\nexport var mxCodec = mxGraphFactory.mxCodec;\nexport var mxUtils = mxGraphFactory.mxUtils;\nexport var mxClient = mxGraphFactory.mxClient;\nexport var mxEvent = mxGraphFactory.mxEvent;\nexport var mxRubberband = mxGraphFactory.mxRubberband;\nexport var mxCell = mxGraphFactory.mxCell;\nexport var mxCellState = mxGraphFactory.mxCellState;\nexport var mxConstants = mxGraphFactory.mxConstants;\nexport var mxPerimeter = mxGraphFactory.mxPerimeter;\nexport var mxEdgeStyle = mxGraphFactory.mxEdgeStyle;\nexport var mxConnectionConstraint = mxGraphFactory.mxConnectionConstraint;\nexport var mxPoint = mxGraphFactory.mxPoint;\nexport var mxConstraintHandler = mxGraphFactory.mxConstraintHandler;\nexport var mxParallelEdgeLayout = mxGraphFactory.mxParallelEdgeLayout;\nexport var mxLayoutManager = mxGraphFactory.mxLayoutManager;\nexport var mxCellTracker = mxGraphFactory.mxCellTracker;\nexport var mxCellOverlay = mxGraphFactory.mxCellOverlay;\nexport var mxImage = mxGraphFactory.mxImage;\nexport var mxKeyHandler = mxGraphFactory.mxKeyHandler;\nexport var mxMarker = mxGraphFactory.mxMarker;\nexport var mxUndoManager = mxGraphFactory.mxUndoManager;\nexport var mxEventSource = mxGraphFactory.mxEventSource;\nexport var mxPopupMenu = mxGraphFactory.mxPopupMenu;\nexport var mxResources = mxGraphFactory.mxResources;\nexport var mxGeometry = mxGraphFactory.mxGeometry;\nexport var mxEventObject = mxGraphFactory.mxEventObject;\nexport var mxGraphView = mxGraphFactory.mxGraphView;\nexport var mxCellRenderer = mxGraphFactory.mxCellRenderer;\nexport var mxStencil = mxGraphFactory.mxStencil;\nexport var mxConnector = mxGraphFactory.mxConnector;\nexport var mxShape = mxGraphFactory.mxShape;\nexport var mxEllipse = mxGraphFactory.mxEllipse;\nexport var mxEdgeHandler = mxGraphFactory.mxEdgeHandler;\nexport var mxVertexHandler = mxGraphFactory.mxVertexHandler;\nexport var mxRectangle = mxGraphFactory.mxRectangle;\nexport var mxRectangleShape = mxGraphFactory.mxRectangleShape;\nexport var mxImageShape = mxGraphFactory.mxImageShape;\nexport var mxGraphHandler = mxGraphFactory.mxGraphHandler;\nexport var mxMouseEvent = mxGraphFactory.mxMouseEvent;\nexport var mxPolyline = mxGraphFactory.mxPolyline;\nexport var mxOutline = mxGraphFactory.mxOutline;\nexport var mxClipboard = mxGraphFactory.mxClipboard;\nexport var mxSvgCanvas2D = mxGraphFactory.mxSvgCanvas2D;\nexport var mxGuide = mxGraphFactory.mxGuide;\nexport var mxMultiplicity = mxGraphFactory.mxMultiplicity;\nexport var mxHierarchicalLayout = mxGraphFactory.mxHierarchicalLayout;\nexport var mxFastOrganicLayout = mxGraphFactory.mxFastOrganicLayout;\nexport function mxCellAttributeChange(cell, attribute, value) {\n    this.cell = cell;\n    this.attribute = attribute;\n    this.value = value;\n    this.previous = value;\n}\nmxCellAttributeChange.prototype.execute = function () {\n    if (this.cell != null) {\n        var tmp = this.cell.getAttribute(this.attribute);\n        if (this.previous == null) {\n            this.cell.value.removeAttribute(this.attribute);\n        }\n        else {\n            this.cell.setAttribute(this.attribute, this.previous);\n        }\n        this.previous = tmp;\n    }\n};\nfunction globalConfig() {\n    Object.keys(mxGraphFactory || {}).forEach(function (k) { return (window[k] = mxGraphFactory[k]); });\n    mxConstants.EDGE_SELECTION_COLOR = config.themeColor;\n    mxConstants.VERTEX_SELECTION_COLOR = config.themeColor;\n    mxConstants.DROP_TARGET_COLOR = config.themeColor;\n    mxConstants.HIGHLIGHT_OPACITY = 60;\n    mxConstants.HIGHLIGHT_STROKEWIDTH = 2;\n    mxConstants.HIGHLIGHT_COLOR = config.themeColor;\n    mxConstants.OUTLINE_HIGHLIGHT_COLOR = config.themeColor;\n    mxConstants.DEFAULT_VALID_COLOR = config.themeColor;\n    mxConstants.VALID_COLOR = config.themeColor;\n    mxConstants.HANDLE_FILLCOLOR = config.themeColor;\n    mxConstants.OUTLINE_STROKEWIDTH = 1;\n    mxConstants.OUTLINE_COLOR = config.themeColor;\n    mxConstants.GUIDE_COLOR = config.themeColor;\n    mxConstants.GUIDE_STROKEWIDTH = 1;\n    mxGuide.prototype.createGuideShape = function () {\n        var guide = new mxPolyline([], mxConstants.GUIDE_COLOR, mxConstants.GUIDE_STROKEWIDTH);\n        return guide;\n    };\n    mxGraph.prototype.validationAlert = function (msg) {\n        message.error(msg, 2);\n    };\n    var originMultiplicityCheckType = mxMultiplicity.prototype.checkType;\n    mxMultiplicity.prototype.checkType = function (graph, value, type, attr, attrValue) {\n        var key = parseJSON(value, {}).key;\n        if (key !== undefined) {\n            return type === key;\n        }\n        return originMultiplicityCheckType.apply(this, arguments);\n    };\n    mxGraphModel.prototype.createId = function (cell) {\n        var id = this.nextId;\n        this.nextId++;\n        var res = this.prefix + id + this.postfix;\n        if (this.isVertex(cell)) {\n            res = \"N\" + id;\n        }\n        else if (this.isEdge(cell)) {\n            res = \"E\" + id;\n        }\n        return res;\n    };\n    mxEdgeHandler.prototype.handleImage = new mxImage(getImageBasePath('dot.svg'), 6, 6);\n    mxConstraintHandler.prototype.pointImage = new mxImage(getImageBasePath('point.svg'), 10, 10);\n    mxConstraintHandler.prototype.highlightColor = config.themeColor;\n    mxConstraintHandler.prototype.createHighlightShape = function () {\n        var hl = new mxEllipse(null, this.highlightColor, this.highlightColor, 0);\n        hl.opacity = 30;\n        return hl;\n    };\n    var originalVertexHandlerUnion = mxVertexHandler.prototype.union;\n    mxVertexHandler.prototype.union = function (geo, dxs, dys, index) {\n        var result = originalVertexHandlerUnion.apply(this, arguments);\n        if (this.state.cell.isVertex()) {\n            var bounds = this.state.cell.geometry;\n            var coff = bounds.width / bounds.height;\n            if (result.width !== bounds.width) {\n                result.height = result.width / coff;\n            }\n            else if (result.height !== bounds.height) {\n                result.width = result.height * coff;\n            }\n        }\n        return result;\n    };\n    var originalVertexHandlerCreateSizerShape = mxVertexHandler.prototype.createSizerShape;\n    mxVertexHandler.prototype.createSizerShape = function (bounds, index, fillColor) {\n        originalVertexHandlerCreateSizerShape.apply(this, arguments);\n        switch (index) {\n            case 0:\n            case 2:\n            case 5:\n            case 7:\n                return new mxRectangleShape(bounds, fillColor || '#ffffff', config.themeColor, 1);\n            default:\n                return new mxEllipse(bounds, fillColor || '#ffffff', config.themeColor, 1);\n        }\n    };\n}\nglobalConfig();\nexport default mxGraphFactory;\n","var _a, _b, _c, _d, _e;\nimport { __assign } from \"tslib\";\nimport { mxConstants, config as mxConfig } from '../mxgraph';\nexport var defaultVertexStyle = (_a = {},\n    _a[mxConstants.STYLE_FONTCOLOR] = '#333333',\n    _a[mxConstants.STYLE_FONTSIZE] = 12,\n    _a);\nexport var defaultEdgeStyle = (_b = {},\n    _b[mxConstants.STYLE_EDGE] = 'orthogonalEdgeStyle',\n    _b[mxConstants.STYLE_STROKECOLOR] = '#666666',\n    _b[mxConstants.STYLE_FONTCOLOR] = '#333333',\n    _b[mxConstants.STYLE_LABEL_BACKGROUNDCOLOR] = '#e8f1fc',\n    _b[mxConstants.STYLE_FONTSIZE] = 12,\n    _b[mxConstants.STYLE_VERTICAL_LABEL_POSITION] = 'bottom',\n    _b[mxConstants.STYLE_VERTICAL_ALIGN] = 'middle',\n    _b[mxConstants.STYLE_FONTSTYLE] = '0',\n    _b[mxConstants.STYLE_ENDARROW] = 'classic',\n    _b[mxConstants.STYLE_STARTARROW] = '',\n    _b[mxConstants.STYLE_ENDFILL] = 1,\n    _b[mxConstants.STYLE_JETTYSIZE] = 'auto',\n    _b[mxConstants.STYLE_ORTHOGONAL_LOOP] = 1,\n    _b[mxConstants.STYLE_LABEL_PADDING] = 6,\n    _b);\nexport var defaultExtraStyle = {\n    edge: defaultEdgeStyle,\n    highlightEdge: __assign(__assign({}, defaultEdgeStyle), (_c = {}, _c[mxConstants.STYLE_STROKECOLOR] = mxConfig.themeColor, _c)),\n    dashEdge: __assign(__assign({}, defaultEdgeStyle), (_d = {}, _d[mxConstants.STYLE_STARTARROW] = 'dash', _d)),\n    highlightDashEdge: __assign(__assign({}, defaultEdgeStyle), (_e = {}, _e[mxConstants.STYLE_STROKECOLOR] = mxConfig.themeColor, _e[mxConstants.STYLE_STARTARROW] = 'dash', _e)),\n};\n","import { __extends } from \"tslib\";\nimport { parseJSON, putStyle, getChartConfig } from '../../utils';\nimport { mxGraph, mxRubberband, mxKeyHandler, mxClient, mxMarker, mxEvent, mxCellState, mxConnectionConstraint, mxPoint, mxGraphHandler, mxRectangle, mxMultiplicity, config as mxConfig, } from '../mxgraph';\nimport { defaultVertexStyle, defaultEdgeStyle, defaultExtraStyle, } from './config';\nimport { getDot } from './utils';\nvar Graph = (function (_super) {\n    __extends(Graph, _super);\n    function Graph(container, model, renderHint, stylesheet, extraConfig) {\n        var _this = _super.call(this, container, model, renderHint, stylesheet) || this;\n        _this.init = function (graph) {\n            _this.rubberband = new mxRubberband(graph);\n            _this.rubberband.setEnabled(mxClient.IS_TOUCH ? false : true);\n            mxEvent.disableContextMenu(graph.container);\n            graph.setTolerance(8);\n            graph.setEnabled(true);\n            graph.setPanning(true);\n            !mxClient.IS_IE && graph.setHtmlLabels(true);\n            _this.initKeyHandler(graph);\n            _this.initStylesheet(graph);\n            _this.initGuides(graph);\n            _this.initConnection(graph);\n            _this.initCells(graph);\n            _this.initMarker(graph);\n        };\n        _this.initStylesheet = function (graph) {\n            graph.alternateEdgeStyle = 'elbow=vertical';\n            graph.getStylesheet().putDefaultVertexStyle(defaultVertexStyle);\n            graph.getStylesheet().putDefaultEdgeStyle(defaultEdgeStyle);\n            Object.keys(defaultExtraStyle).forEach(function (key) {\n                return putStyle(graph, key, defaultExtraStyle[key]);\n            });\n            Object.keys(_this.config.toolbar.map).forEach(function (key) {\n                var cell = _this.config.toolbar.map[key] || {};\n                var _a = cell.style, style = _a === void 0 ? {} : _a, _b = cell.status, status = _b === void 0 ? {} : _b;\n                putStyle(graph, key, style);\n                Object.keys(status).forEach(function (s) {\n                    return putStyle(graph, key + \"#\" + s, status[s]);\n                });\n            });\n        };\n        _this.initKeyHandler = function (graph) {\n            _this.keyHandler = new mxKeyHandler(graph);\n            _this.keyHandler.isControlDown = function (evt) {\n                return mxEvent.isControlDown(evt) || (mxClient.IS_MAC && evt.metaKey);\n            };\n            _this.keyHandler.setEnabled(_this.editable);\n        };\n        _this.initCells = function (graph) {\n            graph.setCellsLocked(!_this.editable);\n            graph.setCellsEditable(true);\n            graph.setCellsMovable(true);\n            graph.setCellsResizable(true);\n            graph.setEdgeLabelsMovable(true);\n            graph.setDropEnabled(true);\n            graph.setTooltips(true);\n            graph.getTooltipForCell = function (cell) {\n                return this.convertValueToString(cell);\n            };\n        };\n        _this.initMarker = function (graph) {\n            mxMarker.addMarker('dash', function (c, shape) {\n                var dot = getDot(shape.points, shape.scale);\n                return function () {\n                    c.begin();\n                    c.moveTo(dot.x - 5, dot.y - 5);\n                    c.lineTo(dot.x + 5, dot.y + 5);\n                    var node = c.node;\n                    c.stroke();\n                    node.setAttribute('stroke-width', 2);\n                    node.setAttribute('stroke', mxConfig.themeColor);\n                };\n            });\n        };\n        _this.initConnection = function (graph) {\n            var config = _this.config;\n            graph.setConnectable(true);\n            graph.setMultigraph(false);\n            Object.keys(_this.config.toolbar.map).forEach(function (key) {\n                var cell = _this.config.toolbar.map[key] || {};\n                var _a = cell.multiplicities, multiplicities = _a === void 0 ? [] : _a;\n                multiplicities.forEach(function (m) {\n                    graph.multiplicities.push(new mxMultiplicity(m.source, key, m.attr, m.value, m.min, m.max, m.validNeighbors, m.countError, m.typeError, m.validNeighborsAllowed));\n                });\n            });\n            graph.setAllowDanglingEdges(false);\n            graph.getAllConnectionConstraints = function (terminal) {\n                if (terminal != null && this.model.isVertex(terminal.cell)) {\n                    var _a = (config.toolbar.map[parseJSON(this.model.getValue(terminal.cell), {}).key] || {}).constraints, constraints = _a === void 0 ? [] : _a;\n                    if (constraints.length > 0) {\n                        return constraints.map(function (c) { return new mxConnectionConstraint(new mxPoint(c[0], c[1]), true); });\n                    }\n                    return [\n                        new mxConnectionConstraint(new mxPoint(0.5, 0), true),\n                        new mxConnectionConstraint(new mxPoint(0, 0.5), true),\n                        new mxConnectionConstraint(new mxPoint(1, 0.5), true),\n                        new mxConnectionConstraint(new mxPoint(0.5, 1), true),\n                    ];\n                }\n                return null;\n            };\n            graph.connectionHandler.getEdgeColor = function (valid) {\n                return '#4285F4';\n            };\n            graph.connectionHandler.getEdgeWidth = function (valid) {\n                return 1;\n            };\n            graph.connectionHandler.createEdgeState = function (me) {\n                var edge = graph.createEdge(null, null, null, null, null, 'edgeStyle=orthogonalEdgeStyle');\n                return new mxCellState(this.graph.view, edge, this.graph.getCellStyle(edge));\n            };\n            graph.connectionHandler.isConnectableCell = function (cell) {\n                return false;\n            };\n        };\n        _this.initGuides = function (graph) {\n            graph.graphHandler.guidesEnabled = true;\n            graph.graphHandler.useGuidesForEvent = function (me) {\n                return !mxEvent.isAltDown(me.getEvent());\n            };\n            graph.gridSize = 10;\n            graph.view.gridSteps = 4;\n            graph.graphHandler.createPreviewShape = function (bounds) {\n                this.previewColor = mxConfig.themeColor;\n                return mxGraphHandler.prototype.createPreviewShape.apply(this, arguments);\n            };\n            var graphHandlerGetGuideStates = graph.graphHandler.getGuideStates;\n            graph.graphHandler.getGuideStates = function () {\n                var result = graphHandlerGetGuideStates.apply(this, arguments);\n                var guides = [];\n                var pf = this.graph.pageFormat;\n                var ps = this.graph.pageScale;\n                var pw = pf.width * ps;\n                var ph = pf.height * ps;\n                var t = this.graph.view.translate;\n                var s = this.graph.view.scale;\n                var layout = this.graph.getPageLayout();\n                for (var i = 0; i < layout.width; i++) {\n                    guides.push(new mxRectangle(((layout.x + i) * pw + t.x) * s, (layout.y * ph + t.y) * s, pw * s, ph * s));\n                }\n                for (var j = 0; j < layout.height; j++) {\n                    guides.push(new mxRectangle((layout.x * pw + t.x) * s, ((layout.y + j) * ph + t.y) * s, pw * s, ph * s));\n                }\n                result = guides.concat(result);\n                return result;\n            };\n        };\n        _this.convertValueToString = function (cell) {\n            try {\n                var value = parseJSON(_this.model.getValue(cell), {});\n                return value['name'] || '';\n            }\n            catch (e) {\n                return '';\n            }\n        };\n        _this.cellLabelChanged = function (cell, value, autoSize) {\n            _this.model.beginUpdate();\n            try {\n                var v = parseJSON(_this.model.getValue(cell), {});\n                _this.model.setValue(cell, JSON.stringify(Object.assign({}, v, {\n                    name: value,\n                })));\n                if (autoSize) {\n                    _this.graph.cellSizeUpdated(cell, false);\n                }\n            }\n            finally {\n                _this.model.endUpdate();\n            }\n        };\n        _this.config = getChartConfig(extraConfig);\n        _this.editable = _this.config.editable;\n        _this.graph = _this;\n        _this.init(_this.graph);\n        return _this;\n    }\n    return Graph;\n}(mxGraph));\nexport default Graph;\n","export function getDot(points, scale) {\n    var ps = points.slice(-2);\n    var _a = ps[0], xa = _a.x, ya = _a.y;\n    var _b = ps[1], xb = _b.x, yb = _b.y;\n    xa = xa / scale;\n    ya = ya / scale;\n    xb = xb / scale;\n    yb = yb / scale;\n    var x = xb - xa;\n    var y = yb - ya;\n    var len = Math.pow(Math.pow(x, 2) + Math.pow(y, 2), 0.5);\n    if (len > 50) {\n        var xc = (1 - 40 / len) * x + xa;\n        var yc = (1 - 40 / len) * y + ya;\n        return {\n            x: xc,\n            y: yc,\n        };\n    }\n    var allX = xa + xb;\n    var allY = ya + yb;\n    return {\n        x: allX / 2,\n        y: allY / 2,\n    };\n}\n","import { __extends } from \"tslib\";\nimport { Base64 } from 'js-base64';\nimport { mxEventSource, mxUndoManager, mxUtils, mxEvent, mxClient, mxConstants, mxMouseEvent, mxRectangleShape, mxRectangle, mxPoint, mxPolyline, } from '../mxgraph';\nimport { getChartConfig } from '../../utils';\nimport Graph from '../graph';\nvar Editor = (function (_super) {\n    __extends(Editor, _super);\n    function Editor(container, config) {\n        var _this = _super.call(this) || this;\n        _this.init = function () {\n            _this.initUndoManager();\n            _this.initPageView();\n        };\n        _this.initUndoManager = function () {\n            var graph = _this.graph;\n            var undoMgr = new mxUndoManager();\n            _this.undoListener = function (sender, evt) {\n                undoMgr.undoableEditHappened(evt.getProperty('edit'));\n            };\n            var listener = mxUtils.bind(_this, function (sender, evt) {\n                this.undoListener.apply(this, arguments);\n            });\n            graph.getModel().addListener(mxEvent.UNDO, listener);\n            graph.getView().addListener(mxEvent.UNDO, listener);\n            var undoHandler = function (sender, evt) {\n                var cand = graph.getSelectionCellsForChanges(evt.getProperty('edit').changes);\n                var cells = [];\n                for (var i = 0; i < cand.length; i++) {\n                    if (graph.view.getState(cand[i]) != null) {\n                        cells.push(cand[i]);\n                    }\n                }\n                graph.setSelectionCells(cells);\n            };\n            undoMgr.addListener(mxEvent.UNDO, undoHandler);\n            undoMgr.addListener(mxEvent.REDO, undoHandler);\n            _this.undoManager = undoMgr;\n        };\n        _this.initPageFormat = function () {\n            var graph = _this.graph;\n            var editable = _this.config.editable;\n            var iw = _this.container.offsetWidth;\n            var ih = _this.container.offsetHeight;\n            graph.pageFormat = new mxRectangle(0, 0, editable ? iw : iw - 100, editable ? ih : ih - 100);\n        };\n        _this.initPageView = function () {\n            var graph = _this.graph;\n            _this.initPageFormat();\n            graph.pageScale = 1;\n            graph.getPagePadding = function () {\n                return this.config.editable ? new mxPoint(0, 0) : new mxPoint(50, 50);\n            };\n            graph.getPageLayout = function () {\n                var size = this.getPageSize();\n                var bounds = this.getGraphBounds();\n                if (bounds.width === 0 || bounds.height === 0) {\n                    return new mxRectangle(0, 0, 1, 1);\n                }\n                else {\n                    var x = Math.ceil(bounds.x / this.view.scale - this.view.translate.x);\n                    var y = Math.ceil(bounds.y / this.view.scale - this.view.translate.y);\n                    var w = Math.floor(bounds.width / this.view.scale);\n                    var h = Math.floor(bounds.height / this.view.scale);\n                    var x0 = Math.floor(x / size.width);\n                    var y0 = Math.floor(y / size.height);\n                    var w0 = Math.ceil((x + w) / size.width) - x0;\n                    var h0 = Math.ceil((y + h) / size.height) - y0;\n                    return new mxRectangle(x0, y0, w0, h0);\n                }\n            };\n            graph.getPageSize = function () {\n                return new mxRectangle(0, 0, this.pageFormat.width * this.pageScale, this.pageFormat.height * this.pageScale);\n            };\n            graph.updatePageBreaks = function (visible, width, height) {\n                var scale = this.view.scale;\n                var tr = this.view.translate;\n                var fmt = this.pageFormat;\n                var ps = scale * this.pageScale;\n                var bounds2 = this.view.getBackgroundPageBounds();\n                width = bounds2.width;\n                height = bounds2.height;\n                var bounds = new mxRectangle(scale * tr.x, scale * tr.y, fmt.width * ps, fmt.height * ps);\n                visible =\n                    visible &&\n                        Math.min(bounds.width, bounds.height) > this.minPageBreakDist;\n                var horizontalCount = visible\n                    ? Math.ceil(height / bounds.height) - 1\n                    : 0;\n                var verticalCount = visible ? Math.ceil(width / bounds.width) - 1 : 0;\n                var right = bounds2.x + width;\n                var bottom = bounds2.y + height;\n                if (this.horizontalPageBreaks == null && horizontalCount > 0) {\n                    this.horizontalPageBreaks = [];\n                }\n                if (this.verticalPageBreaks == null && verticalCount > 0) {\n                    this.verticalPageBreaks = [];\n                }\n                var drawPageBreaks = mxUtils.bind(this, function (breaks) {\n                    if (breaks != null) {\n                        var count = breaks === this.horizontalPageBreaks\n                            ? horizontalCount\n                            : verticalCount;\n                        for (var i = 0; i <= count; i++) {\n                            var pts = breaks === this.horizontalPageBreaks\n                                ? [\n                                    new mxPoint(Math.round(bounds2.x), Math.round(bounds2.y + (i + 1) * bounds.height)),\n                                    new mxPoint(Math.round(right), Math.round(bounds2.y + (i + 1) * bounds.height)),\n                                ]\n                                : [\n                                    new mxPoint(Math.round(bounds2.x + (i + 1) * bounds.width), Math.round(bounds2.y)),\n                                    new mxPoint(Math.round(bounds2.x + (i + 1) * bounds.width), Math.round(bottom)),\n                                ];\n                            if (breaks[i] != null) {\n                                breaks[i].points = pts;\n                                breaks[i].redraw();\n                            }\n                            else {\n                                var pageBreak = new mxPolyline(pts, this.pageBreakColor);\n                                pageBreak.dialect = this.dialect;\n                                pageBreak.isDashed = this.pageBreakDashed;\n                                pageBreak.pointerEvents = false;\n                                pageBreak.init(this.view.backgroundPane);\n                                pageBreak.redraw();\n                                breaks[i] = pageBreak;\n                            }\n                        }\n                        for (var i = count; i < breaks.length; i++) {\n                            breaks[i].destroy();\n                        }\n                        breaks.splice(count, breaks.length - count);\n                    }\n                });\n                drawPageBreaks(this.horizontalPageBreaks);\n                drawPageBreaks(this.verticalPageBreaks);\n            };\n            var graphSizeDidChange = graph.sizeDidChange;\n            graph.sizeDidChange = function () {\n                var pages = this.getPageLayout();\n                var pad = this.getPagePadding();\n                var size = this.getPageSize();\n                var minw = Math.ceil(2 * pad.x + pages.width * size.width);\n                var minh = Math.ceil(2 * pad.y + pages.height * size.height);\n                var min = graph.minimumGraphSize;\n                if (min == null || min.width !== minw || min.height !== minh) {\n                    graph.minimumGraphSize = new mxRectangle(0, 0, minw, minh);\n                }\n                var dx = pad.x - pages.x * size.width;\n                var dy = pad.y - pages.y * size.height;\n                if (!this.autoTranslate &&\n                    (this.view.translate.x !== dx || this.view.translate.y !== dy)) {\n                    this.autoTranslate = true;\n                    this.view.x0 = pages.x;\n                    this.view.y0 = pages.y;\n                    var tx = graph.view.translate.x;\n                    var ty = graph.view.translate.y;\n                    graph.view.setTranslate(dx, dy);\n                    graph.container.scrollLeft += Math.round((dx - tx) * graph.view.scale);\n                    graph.container.scrollTop += Math.round((dy - ty) * graph.view.scale);\n                    this.autoTranslate = false;\n                    return;\n                }\n                graphSizeDidChange.apply(this, arguments);\n            };\n            var view = graph.view;\n            var graphViewValidate = graph.view.validate;\n            view.validate = function () {\n                if (this.graph.container != null &&\n                    mxUtils.hasScrollbars(this.graph.container)) {\n                    var pad = this.graph.getPagePadding();\n                    var size = this.graph.getPageSize();\n                    this.translate.x = pad.x - (this.x0 || 0) * size.width;\n                    this.translate.y = pad.y - (this.y0 || 0) * size.height;\n                }\n                graphViewValidate.apply(this, arguments);\n            };\n            view.validateBackgroundPage = function () {\n                var graph = this.graph;\n                var bounds = this.getBackgroundPageBounds();\n                if (this.backgroundPageShape == null) {\n                    var firstChild = graph.container.firstChild;\n                    while (firstChild != null &&\n                        firstChild.nodeType !== mxConstants.NODETYPE_ELEMENT) {\n                        firstChild = firstChild.nextSibling;\n                    }\n                    if (firstChild != null) {\n                        this.backgroundPageShape = this.createBackgroundPageShape(bounds);\n                        this.backgroundPageShape.scale = 1;\n                        this.backgroundPageShape.isShadow = !mxClient.IS_QUIRKS;\n                        this.backgroundPageShape.dialect = mxConstants.DIALECT_STRICTHTML;\n                        this.backgroundPageShape.init(graph.container);\n                        firstChild.style.position = 'absolute';\n                        graph.container.insertBefore(this.backgroundPageShape.node, firstChild);\n                        this.backgroundPageShape.redraw();\n                        this.backgroundPageShape.node.className = 'bpm-flowchart-pager';\n                        mxEvent.addListener(this.backgroundPageShape.node, 'dblclick', mxUtils.bind(this, function (evt) {\n                            graph.dblClick(evt);\n                        }));\n                        mxEvent.addGestureListeners(this.backgroundPageShape.node, mxUtils.bind(this, function (evt) {\n                            graph.fireMouseEvent(mxEvent.MOUSE_DOWN, new mxMouseEvent(evt));\n                        }), mxUtils.bind(this, function (evt) {\n                            if (graph.tooltipHandler != null &&\n                                graph.tooltipHandler.isHideOnHover()) {\n                                graph.tooltipHandler.hide();\n                            }\n                            if (graph.isMouseDown && !mxEvent.isConsumed(evt)) {\n                                graph.fireMouseEvent(mxEvent.MOUSE_MOVE, new mxMouseEvent(evt));\n                            }\n                        }), mxUtils.bind(this, function (evt) {\n                            graph.fireMouseEvent(mxEvent.MOUSE_UP, new mxMouseEvent(evt));\n                        }));\n                    }\n                }\n                else {\n                    this.backgroundPageShape.scale = 1;\n                    this.backgroundPageShape.bounds = bounds;\n                    this.backgroundPageShape.redraw();\n                }\n                this.validateBackgroundStyles();\n            };\n            view.validateBackgroundStyles = function () {\n                var graph = this.graph;\n                var color = '#ffffff';\n                var gridColor = '#eeeeee';\n                var image = 'none';\n                var position = '';\n                if (graph.isGridEnabled()) {\n                    var phase = 10;\n                    if (mxClient.IS_SVG) {\n                        image = unescape(encodeURIComponent(this.createSvgGrid(gridColor)));\n                        image = window.btoa ? btoa(image) : Base64.encode(image, true);\n                        image = 'url(' + 'data:image/svg+xml;base64,' + image + ')';\n                        phase = graph.gridSize * this.scale * this.gridSteps;\n                    }\n                    else {\n                        image = 'url(' + this.gridImage + ')';\n                    }\n                    var x0 = 0;\n                    var y0 = 0;\n                    if (graph.view.backgroundPageShape != null) {\n                        var bds = this.getBackgroundPageBounds();\n                        x0 = 1 + bds.x;\n                        y0 = 1 + bds.y;\n                    }\n                    position =\n                        -Math.round(phase - mxUtils.mod(this.translate.x * this.scale - x0, phase)) +\n                            'px ' +\n                            -Math.round(phase - mxUtils.mod(this.translate.y * this.scale - y0, phase)) +\n                            'px';\n                }\n                var canvas = graph.view.canvas;\n                if (canvas.ownerSVGElement != null) {\n                    canvas = canvas.ownerSVGElement;\n                }\n                if (graph.view.backgroundPageShape != null) {\n                    graph.view.backgroundPageShape.node.style.backgroundPosition = position;\n                    graph.view.backgroundPageShape.node.style.backgroundImage = image;\n                    graph.view.backgroundPageShape.node.style.backgroundColor = color;\n                    canvas.style.backgroundImage = 'none';\n                    canvas.style.backgroundColor = '';\n                }\n                else {\n                    canvas.style.backgroundPosition = position;\n                    canvas.style.backgroundColor = color;\n                    canvas.style.backgroundImage = image;\n                }\n            };\n            view.createSvgGrid = function (color) {\n                var tmp = this.graph.gridSize * this.scale;\n                while (tmp < this.minGridSize) {\n                    tmp *= 2;\n                }\n                var tmp2 = this.gridSteps * tmp;\n                var d = [];\n                for (var i = 1; i < this.gridSteps; i++) {\n                    var tmp3 = i * tmp;\n                    d.push('M 0 ' +\n                        tmp3 +\n                        ' L ' +\n                        tmp2 +\n                        ' ' +\n                        tmp3 +\n                        ' M ' +\n                        tmp3 +\n                        ' 0 L ' +\n                        tmp3 +\n                        ' ' +\n                        tmp2);\n                }\n                var size = tmp2;\n                var svg = '<svg width=\"' +\n                    size +\n                    '\" height=\"' +\n                    size +\n                    '\" xmlns=\"' +\n                    mxConstants.NS_SVG +\n                    '\">' +\n                    '<defs><pattern id=\"grid\" width=\"' +\n                    tmp2 +\n                    '\" height=\"' +\n                    tmp2 +\n                    '\" patternUnits=\"userSpaceOnUse\">' +\n                    '<path d=\"' +\n                    d.join(' ') +\n                    '\" fill=\"none\" stroke=\"' +\n                    color +\n                    '\" opacity=\"0.2\" stroke-width=\"1\"/>' +\n                    '<path d=\"M ' +\n                    tmp2 +\n                    ' 0 L 0 0 0 ' +\n                    tmp2 +\n                    '\" fill=\"none\" stroke=\"' +\n                    color +\n                    '\" stroke-width=\"1\"/>' +\n                    '</pattern></defs><rect width=\"100%\" height=\"100%\" fill=\"url(#grid)\"/></svg>';\n                return svg;\n            };\n            view.createBackgroundPageShape = function (bounds) {\n                return new mxRectangleShape(bounds, '#ffffff', 'transparent');\n            };\n            view.getGraphBounds = function () {\n                return this.graphBounds;\n            };\n            view.getBackgroundPageBounds = function () {\n                var gb = this.getGraphBounds();\n                var x = gb.width > 0 ? gb.x / this.scale - this.translate.x : 0;\n                var y = gb.height > 0 ? gb.y / this.scale - this.translate.y : 0;\n                var w = gb.width / this.scale;\n                var h = gb.height / this.scale;\n                var fmt = this.graph.pageFormat;\n                var ps = this.graph.pageScale;\n                var pw = fmt.width * ps;\n                var ph = fmt.height * ps;\n                var x0 = Math.floor(Math.min(0, x) / pw);\n                var y0 = Math.floor(Math.min(0, y) / ph);\n                var xe = Math.ceil(Math.max(1, x + w) / pw);\n                var ye = Math.ceil(Math.max(1, y + h) / ph);\n                var rows = xe - x0;\n                var cols = ye - y0;\n                var bounds = new mxRectangle(this.scale * (this.translate.x + x0 * pw), this.scale * (this.translate.y + y0 * ph), this.scale * rows * pw, this.scale * cols * ph);\n                return bounds;\n            };\n            _this.graph.view.validate();\n            _this.graph.sizeDidChange();\n        };\n        _this.destroy = function () {\n            try {\n                _this.graph && _this.graph.destroy();\n                var keyHandler = _this.graph.keyHandler;\n                keyHandler && keyHandler.destroy();\n            }\n            catch (e) {\n            }\n        };\n        _this.container = container;\n        _this.config = getChartConfig(config || {});\n        _this.editor = _this;\n        _this.graph = new Graph(_this.container, null, null, null, _this.config);\n        _this.init();\n        return _this;\n    }\n    Editor.ctrlKey = mxClient.IS_MAC ? 'Command' : 'Ctrl';\n    Editor.deleteKey = mxClient.IS_MAC ? 8 : 46;\n    return Editor;\n}(mxEventSource));\nexport default Editor;\n","import Editor from '../editor';\nexport var map = {\n    undo: {\n        key: 'undo',\n        funct: function (editorUI) {\n            editorUI.undo();\n        },\n        enabled: true,\n        shortcut: Editor.ctrlKey + '+Z',\n        tooltip: true,\n    },\n    redo: {\n        key: 'redo',\n        funct: function (editorUI) {\n            editorUI.redo();\n        },\n        enabled: true,\n        shortcut: Editor.ctrlKey + '+Shift+Z',\n        tooltip: true,\n    },\n    delete: {\n        key: 'delete',\n        funct: function (editorUI) {\n            editorUI.delete();\n        },\n        enabled: true,\n        shortcut: 'Delete',\n        tooltip: true,\n    },\n    rubberband: {\n        key: 'rubberband',\n        funct: function (editorUI) {\n            editorUI.rubberband();\n        },\n        enabled: true,\n        shortcut: Editor.ctrlKey + '+Left',\n        tooltip: true,\n    },\n    alignTop: {\n        key: 'alignTop',\n        funct: function (editorUI) {\n            editorUI.align('top');\n        },\n        enabled: true,\n        shortcut: null,\n        tooltip: false,\n    },\n    alignTBCenter: {\n        key: 'alignTBCenter',\n        funct: function (editorUI) {\n            editorUI.align('tbCenter');\n        },\n        enabled: true,\n        shortcut: null,\n        tooltip: false,\n    },\n    alignBottom: {\n        key: 'alignBottom',\n        funct: function (editorUI) {\n            editorUI.align('bottom');\n        },\n        enabled: true,\n        shortcut: null,\n        tooltip: false,\n    },\n    alignLeft: {\n        key: 'alignLeft',\n        funct: function (editorUI) {\n            editorUI.align('left');\n        },\n        enabled: true,\n        shortcut: null,\n        tooltip: false,\n    },\n    alignLRCenter: {\n        key: 'alignLRCenter',\n        funct: function (editorUI) {\n            editorUI.align('lrCenter');\n        },\n        enabled: true,\n        shortcut: null,\n        tooltip: false,\n    },\n    alignRight: {\n        key: 'alignRight',\n        funct: function (editorUI) {\n            editorUI.align('right');\n        },\n        enabled: true,\n        shortcut: null,\n        tooltip: false,\n    },\n};\nexport var data = [\n    map.undo,\n    map.redo,\n    map.delete,\n    map.rubberband,\n    map.alignTop,\n    map.alignTBCenter,\n    map.alignBottom,\n    map.alignLeft,\n    map.alignLRCenter,\n    map.alignRight,\n];\n","import { __extends } from \"tslib\";\nimport { mxResources, mxEventSource } from '../mxgraph';\nimport { data } from './config';\nvar Action = (function (_super) {\n    __extends(Action, _super);\n    function Action(key, funct, enabled, shortcut, tooltip) {\n        var _this = _super.call(this) || this;\n        _this.key = key;\n        _this.funct = funct;\n        _this.enabled = enabled !== null ? enabled : true;\n        _this.shortcut = shortcut;\n        _this.tooltip = tooltip !== null ? tooltip : true;\n        return _this;\n    }\n    return Action;\n}(mxEventSource));\nexport { Action };\nvar Actions = (function () {\n    function Actions(editorUI) {\n        var _this = this;\n        this.init = function () {\n            var ui = _this.editorUI;\n            data.forEach(function (d) {\n                return _this.addAction(d.key, function () { return d.funct(ui); }, d.enabled, d.shortcut, d.tooltip);\n            });\n        };\n        this.addAction = function (key, funct, enabled, shortcut, tooltip) {\n            var title;\n            if (key.substring(key.length - 3) === '...') {\n                key = key.substring(0, key.length - 3);\n                title = mxResources.get(key) + '...';\n            }\n            else {\n                title = mxResources.get(key);\n            }\n            return _this.put(key, new Action(title, funct, enabled, shortcut, tooltip));\n        };\n        this.get = function (name) {\n            return _this.actions[name];\n        };\n        this.put = function (name, action) {\n            _this.actions[name] = action;\n            return action;\n        };\n        this.editorUI = editorUI;\n        this.actions = {};\n        this.init();\n    }\n    return Actions;\n}());\nexport default Actions;\n","import { mxUtils, mxImage, mxClient, mxResources, mxEvent, mxConstants, mxRectangle, getImageBasePath, } from '../../mxgraph';\nfunction HoverIcons(graph, clickHandler) {\n    this.graph = graph;\n    this.clickHandler = clickHandler;\n    this.init();\n}\nHoverIcons.prototype.arrowSpacing = 2;\nHoverIcons.prototype.updateDelay = 500;\nHoverIcons.prototype.activationDelay = 140;\nHoverIcons.prototype.currentState = null;\nHoverIcons.prototype.activeArrow = null;\nHoverIcons.prototype.inactiveOpacity = 15;\nHoverIcons.prototype.cssCursor = 'copy';\nHoverIcons.prototype.checkCollisions = true;\nHoverIcons.prototype.arrowFill = '#29b6f2';\nHoverIcons.prototype.triangleUp = new mxImage(getImageBasePath('triangle-up.svg'), 14, 24);\nHoverIcons.prototype.triangleRight = new mxImage(getImageBasePath('triangle-right.svg'), 24, 14);\nHoverIcons.prototype.triangleDown = new mxImage(getImageBasePath('triangle-down.svg'), 14, 24);\nHoverIcons.prototype.triangleLeft = new mxImage(getImageBasePath('triangle-left.svg'), 24, 14);\nHoverIcons.prototype.roundDrop = new mxImage(getImageBasePath('round-drop.png'), 26, 26);\nHoverIcons.prototype.refreshTarget = new mxImage(mxClient.IS_SVG\n    ? 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAmCAYAAACoPemuAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyJpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBNYWNpbnRvc2giIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NDQxNERDRTU1QjY1MTFFNDkzNTRFQTVEMTdGMTdBQjciIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NDQxNERDRTY1QjY1MTFFNDkzNTRFQTVEMTdGMTdBQjciPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDo0NDE0RENFMzVCNjUxMUU0OTM1NEVBNUQxN0YxN0FCNyIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo0NDE0RENFNDVCNjUxMUU0OTM1NEVBNUQxN0YxN0FCNyIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PsvuX50AAANaSURBVHja7FjRZ1tRGD9ZJ1NCyIQSwrivI4Q8hCpjlFDyFEoYfSp9Ko1QWnmo0If+BSXkIfo0QirTMUpeGo2EPfWllFYjZMLKLDJn53d3biU337m5J223bPbxk5t7v+/c3/2+73znO8fDOWezKM/YjMpz68Lj8ejY+QTeCCwLxOS9qPxtyN+6wAeBTwJ31CCO0cJDjXBGBN4LfIepSwykTUT1bgpuib0SONIgo8KRHOtRiCFcvUcgZeGrHPNBxLIyFPyRgTGz0xLbegJCdmzpElue5KlAIMDX19d5uVzm5+fnfDAYmMA17uEZdOx2Yvb/sHlu2S0xwymn5ufneTab5b1ej08S6EAXNrDd2dnhiUTim21MvMtwQ6yiIrWwsMDPzs64rsBmf3/fvM7n89TYlUnEllSkQqEQv7q64g+Vk5MTVXosORErU0Zer5f0FEIlw2N6MxwO82QyaXql2+2SxDqdjopYWUUsqEp45IldqtWq6UWVh/1+P7+8vCTJ4QMUJSRIEXuneoH96w8PDyeWAnhSJfCqwm6NIlaklFdXV0cGhRcQ2mlJQXK5nMq2YPEZbnteU1U2lUqN/D84OGD9fl+5fgnSrFarsUwmw0qlEru4uBjTicViTk3Cr27HSnxR+Doyz0ZE1CAWiUTusbu7y9rttlZv5fP5WDQavYfIMba4uEipfhF8XtqJoZXx/uH+sC/4vPg7OljZZQbsCmLtYzc3N6zRaJhotVrmfx0xDINtbm6athYUeXpHdbBNaqZUKpWxWXV7e2vex+xaWVnhc3NzjrPUXgexyCt0m67LBV7uJMITjqRE4o8tZeg8FPpFitgapYxiOC0poFgsji1jKNo6BZZckrAGUtJsNk1vqAihCBcKhTE7hNWhqw2qFnGy5UFOUYJVIJ1OjzSE+BCEilon0URavRmBqnbbQ00AXbm+vnZc9O1tj72OnQoc2+cwygRkb2+P1et17ZoEm3g87lRmjgWZ00kbXkNuse6/Bu2wlegIxfb2tuvWGroO4bO2c4bbzUh60mxDXm1sbJhhxkQYnhS4h2fUZoRAWnf7lv8N27f8P7Xhnekjgpk+VKGOoQbsiY+hhhtF3YO7twIJ+ULvUGv+GQ2fQEvWxI/THNx5/p/BaspPAQYAqStgiSQwCDoAAAAASUVORK5CYII='\n    : getImageBasePath('refresh.png'), 38, 38);\nHoverIcons.prototype.tolerance = mxClient.IS_TOUCH ? 6 : 0;\nHoverIcons.prototype.init = function () {\n    this.arrowUp = this.createArrow(this.triangleUp, mxResources.get('plusTooltip'));\n    this.arrowRight = this.createArrow(this.triangleRight, mxResources.get('plusTooltip'));\n    this.arrowDown = this.createArrow(this.triangleDown, mxResources.get('plusTooltip'));\n    this.arrowLeft = this.createArrow(this.triangleLeft, mxResources.get('plusTooltip'));\n    this.elts = [this.arrowUp, this.arrowRight, this.arrowDown, this.arrowLeft];\n    this.resetHandler = mxUtils.bind(this, function () {\n        this.reset();\n    });\n    this.repaintHandler = mxUtils.bind(this, function () {\n        this.repaint();\n    });\n    this.graph.selectionModel.addListener(mxEvent.CHANGE, this.resetHandler);\n    this.graph.model.addListener(mxEvent.CHANGE, this.repaintHandler);\n    this.graph.view.addListener(mxEvent.SCALE_AND_TRANSLATE, this.repaintHandler);\n    this.graph.view.addListener(mxEvent.TRANSLATE, this.repaintHandler);\n    this.graph.view.addListener(mxEvent.SCALE, this.repaintHandler);\n    this.graph.view.addListener(mxEvent.DOWN, this.repaintHandler);\n    this.graph.view.addListener(mxEvent.UP, this.repaintHandler);\n    this.graph.addListener(mxEvent.ROOT, this.repaintHandler);\n    this.graph.addListener(mxEvent.ESCAPE, this.resetHandler);\n    mxEvent.addListener(this.graph.container, 'scroll', this.resetHandler);\n    this.graph.addListener(mxEvent.ESCAPE, mxUtils.bind(this, function () {\n        this.mouseDownPoint = null;\n    }));\n    mxEvent.addListener(this.graph.container, 'mouseleave', mxUtils.bind(this, function (evt) {\n        if (evt.relatedTarget != null &&\n            mxEvent.getSource(evt) === this.graph.container) {\n            this.setDisplay('none');\n        }\n    }));\n    this.graph.addListener(mxEvent.START_EDITING, mxUtils.bind(this, function (evt) {\n        this.reset();\n    }));\n    var graphClick = this.graph.click;\n    this.graph.click = mxUtils.bind(this, function (me) {\n        graphClick.apply(this.graph, arguments);\n        if (this.currentState != null &&\n            !this.graph.isCellSelected(this.currentState.cell) &&\n            mxEvent.isTouchEvent(me.getEvent()) &&\n            !this.graph.model.isVertex(me.getCell())) {\n            this.reset();\n        }\n    });\n    var connectionHandlerActive = false;\n    this.graph.addMouseListener({\n        mouseDown: mxUtils.bind(this, function (sender, me) {\n            connectionHandlerActive = false;\n            var evt = me.getEvent();\n            if (this.isResetEvent(evt)) {\n                this.reset();\n            }\n            else if (!this.isActive()) {\n                var state = this.getState(me.getState());\n                if (state != null || !mxEvent.isTouchEvent(evt)) {\n                    this.update(state);\n                }\n            }\n            this.setDisplay('none');\n        }),\n        mouseMove: mxUtils.bind(this, function (sender, me) {\n            var evt = me.getEvent();\n            if (this.isResetEvent(evt)) {\n                this.reset();\n            }\n            else if (!this.graph.isMouseDown && !mxEvent.isTouchEvent(evt)) {\n                this.update(this.getState(me.getState()), me.getGraphX(), me.getGraphY());\n            }\n            if (this.graph.connectionHandler != null &&\n                this.graph.connectionHandler.shape != null) {\n                connectionHandlerActive = true;\n            }\n        }),\n        mouseUp: mxUtils.bind(this, function (sender, me) {\n            var evt = me.getEvent();\n            if (this.isResetEvent(evt)) {\n                this.reset();\n            }\n            else if (this.isActive() &&\n                !connectionHandlerActive &&\n                this.mouseDownPoint != null) {\n                this.click(this.currentState, this.getDirection(), me);\n            }\n            else if (this.isActive()) {\n                if (this.graph.getSelectionCount() !== 1 ||\n                    !this.graph.model.isEdge(this.graph.getSelectionCell())) {\n                    this.update(this.getState(this.graph.view.getState(this.graph.getCellAt(me.getGraphX(), me.getGraphY()))));\n                }\n                else {\n                    this.reset();\n                }\n            }\n            else if (mxEvent.isTouchEvent(evt) ||\n                (this.bbox != null &&\n                    mxUtils.contains(this.bbox, me.getGraphX(), me.getGraphY()))) {\n                this.setDisplay('');\n                this.repaint();\n            }\n            else if (!mxEvent.isTouchEvent(evt)) {\n                this.reset();\n            }\n            connectionHandlerActive = false;\n            this.resetActiveArrow();\n        }),\n    });\n};\nHoverIcons.prototype.isResetEvent = function (evt, allowShift) {\n    return (mxEvent.isAltDown(evt) ||\n        (this.activeArrow == null && mxEvent.isShiftDown(evt)) ||\n        mxEvent.isMetaDown(evt) ||\n        (mxEvent.isPopupTrigger(evt) && !mxEvent.isControlDown(evt)));\n};\nHoverIcons.prototype.createArrow = function (img, tooltip) {\n    var arrow = null;\n    if (mxClient.IS_IE && !mxClient.IS_SVG) {\n        if (mxClient.IS_IE6 && document.compatMode !== 'CSS1Compat') {\n            arrow = document.createElement(mxClient.VML_PREFIX + ':image');\n            arrow.setAttribute('src', img.src);\n            arrow.style.borderStyle = 'none';\n        }\n        else {\n            arrow = document.createElement('div');\n            arrow.style.backgroundImage = 'url(' + img.src + ')';\n            arrow.style.backgroundPosition = 'center';\n            arrow.style.backgroundRepeat = 'no-repeat';\n        }\n        arrow.style.width = img.width + 4 + 'px';\n        arrow.style.height = img.height + 4 + 'px';\n        arrow.style.display = mxClient.IS_QUIRKS ? 'inline' : 'inline-block';\n    }\n    else {\n        arrow = mxUtils.createImage(img.src);\n        arrow.style.width = img.width + 'px';\n        arrow.style.height = img.height + 'px';\n        arrow.style.padding = this.tolerance + 'px';\n    }\n    if (tooltip != null) {\n        arrow.setAttribute('title', tooltip);\n    }\n    arrow.style.position = 'absolute';\n    arrow.style.cursor = this.cssCursor;\n    mxEvent.addGestureListeners(arrow, mxUtils.bind(this, function (evt) {\n        if (this.currentState != null && !this.isResetEvent(evt)) {\n            this.mouseDownPoint = mxUtils.convertPoint(this.graph.container, mxEvent.getClientX(evt), mxEvent.getClientY(evt));\n            this.drag(evt, this.mouseDownPoint.x, this.mouseDownPoint.y);\n            this.activeArrow = arrow;\n            this.setDisplay('none');\n            mxEvent.consume(evt);\n        }\n    }));\n    mxEvent.redirectMouseEvents(arrow, this.graph, this.currentState);\n    mxEvent.addListener(arrow, 'mouseenter', mxUtils.bind(this, function (evt) {\n        if (mxEvent.isMouseEvent(evt)) {\n            if (this.activeArrow != null && this.activeArrow !== arrow) {\n                mxUtils.setOpacity(this.activeArrow, this.inactiveOpacity);\n            }\n            this.graph.connectionHandler.constraintHandler.reset();\n            mxUtils.setOpacity(arrow, 100);\n            this.activeArrow = arrow;\n        }\n    }));\n    mxEvent.addListener(arrow, 'mouseleave', mxUtils.bind(this, function (evt) {\n        if (!this.graph.isMouseDown) {\n            this.resetActiveArrow();\n        }\n    }));\n    return arrow;\n};\nHoverIcons.prototype.resetActiveArrow = function () {\n    if (this.activeArrow != null) {\n        mxUtils.setOpacity(this.activeArrow, this.inactiveOpacity);\n        this.activeArrow = null;\n    }\n};\nHoverIcons.prototype.getDirection = function () {\n    var dir = mxConstants.DIRECTION_EAST;\n    if (this.activeArrow === this.arrowUp) {\n        dir = mxConstants.DIRECTION_NORTH;\n    }\n    else if (this.activeArrow === this.arrowDown) {\n        dir = mxConstants.DIRECTION_SOUTH;\n    }\n    else if (this.activeArrow === this.arrowLeft) {\n        dir = mxConstants.DIRECTION_WEST;\n    }\n    return dir;\n};\nHoverIcons.prototype.visitNodes = function (visitor) {\n    for (var i = 0; i < this.elts.length; i++) {\n        if (this.elts[i] != null) {\n            visitor(this.elts[i]);\n        }\n    }\n};\nHoverIcons.prototype.removeNodes = function () {\n    this.visitNodes(function (elt) {\n        if (elt.parentNode != null) {\n            elt.parentNode.removeChild(elt);\n        }\n    });\n};\nHoverIcons.prototype.setDisplay = function (display) {\n    this.visitNodes(function (elt) {\n        elt.style.display = display;\n    });\n};\nHoverIcons.prototype.isActive = function () {\n    return this.activeArrow != null && this.currentState != null;\n};\nHoverIcons.prototype.drag = function (evt, x, y) {\n    this.graph.popupMenuHandler.hideMenu();\n    this.graph.stopEditing(false);\n    if (this.currentState != null) {\n        this.graph.connectionHandler.start(this.currentState, x, y);\n        this.graph.isMouseTrigger = mxEvent.isMouseEvent(evt);\n        this.graph.isMouseDown = true;\n        var handler = this.graph.selectionCellsHandler.getHandler(this.currentState.cell);\n        if (handler != null) {\n            handler.setHandlesVisible(false);\n        }\n        var es = this.graph.connectionHandler.edgeState;\n        if (evt != null &&\n            mxEvent.isShiftDown(evt) &&\n            mxEvent.isControlDown(evt) &&\n            es != null &&\n            mxUtils.getValue(es.style, mxConstants.STYLE_EDGE, null) ===\n                'orthogonalEdgeStyle') {\n            var direction = this.getDirection();\n            es.cell.style = mxUtils.setStyle(es.cell.style, 'sourcePortConstraint', direction);\n            es.style['sourcePortConstraint'] = direction;\n        }\n    }\n};\nHoverIcons.prototype.getStateAt = function (state, x, y) {\n    return this.graph.view.getState(this.graph.getCellAt(x, y));\n};\nHoverIcons.prototype.click = function (state, dir, me) {\n    var evt = me.getEvent();\n    this.clickHandler(state.cell, dir, evt);\n    me.consume();\n};\nHoverIcons.prototype.reset = function (clearTimeout) {\n    clearTimeout = clearTimeout == null ? true : clearTimeout;\n    if (clearTimeout && this.updateThread != null) {\n        window.clearTimeout(this.updateThread);\n    }\n    this.mouseDownPoint = null;\n    this.currentState = null;\n    this.activeArrow = null;\n    this.removeNodes();\n    this.bbox = null;\n};\nHoverIcons.prototype.repaint = function () {\n    this.bbox = null;\n    if (this.currentState != null) {\n        this.currentState = this.getState(this.currentState);\n        if (this.currentState != null &&\n            this.graph.model.isVertex(this.currentState.cell) &&\n            this.graph.isCellConnectable(this.currentState.cell)) {\n            var bds = mxRectangle.fromRectangle(this.currentState);\n            if (this.currentState.shape != null &&\n                this.currentState.shape.boundingBox != null) {\n                bds = mxRectangle.fromRectangle(this.currentState.shape.boundingBox);\n            }\n            bds.grow(this.graph.tolerance);\n            bds.grow(this.arrowSpacing);\n            var handler = this.graph.selectionCellsHandler.getHandler(this.currentState.cell);\n            var rotationBbox_1 = null;\n            if (handler != null) {\n                bds.x -= handler.horizontalOffset / 2;\n                bds.y -= handler.verticalOffset / 2;\n                bds.width += handler.horizontalOffset;\n                bds.height += handler.verticalOffset;\n                if (handler.rotationShape != null &&\n                    handler.rotationShape.node != null &&\n                    handler.rotationShape.node.style.visibility !== 'hidden' &&\n                    handler.rotationShape.node.style.display !== 'none' &&\n                    handler.rotationShape.boundingBox != null) {\n                    rotationBbox_1 = handler.rotationShape.boundingBox;\n                }\n            }\n            var positionArrow = mxUtils.bind(this, function (arrow, x, y) {\n                if (rotationBbox_1 != null) {\n                    var bbox = new mxRectangle(x, y, arrow.clientWidth, arrow.clientHeight);\n                    if (mxUtils.intersects(bbox, rotationBbox_1)) {\n                        if (arrow === this.arrowUp) {\n                            y -= bbox.y + bbox.height - rotationBbox_1.y;\n                        }\n                        else if (arrow === this.arrowRight) {\n                            x += rotationBbox_1.x + rotationBbox_1.width - bbox.x;\n                        }\n                        else if (arrow === this.arrowDown) {\n                            y += rotationBbox_1.y + rotationBbox_1.height - bbox.y;\n                        }\n                        else if (arrow === this.arrowLeft) {\n                            x -= bbox.x + bbox.width - rotationBbox_1.x;\n                        }\n                    }\n                }\n                arrow.style.left = x + 'px';\n                arrow.style.top = y + 'px';\n                mxUtils.setOpacity(arrow, this.inactiveOpacity);\n            });\n            positionArrow(this.arrowUp, Math.round(this.currentState.getCenterX() -\n                this.triangleUp.width / 2 -\n                this.tolerance), Math.round(bds.y - this.triangleUp.height - this.tolerance));\n            positionArrow(this.arrowRight, Math.round(bds.x + bds.width - this.tolerance), Math.round(this.currentState.getCenterY() -\n                this.triangleRight.height / 2 -\n                this.tolerance));\n            positionArrow(this.arrowDown, parseInt(this.arrowUp.style.left), Math.round(bds.y + bds.height - this.tolerance));\n            positionArrow(this.arrowLeft, Math.round(bds.x - this.triangleLeft.width - this.tolerance), parseInt(this.arrowRight.style.top));\n            if (this.checkCollisions) {\n                var right = this.graph.getCellAt(bds.x + bds.width + this.triangleRight.width / 2, this.currentState.getCenterY());\n                var left = this.graph.getCellAt(bds.x - this.triangleLeft.width / 2, this.currentState.getCenterY());\n                var top_1 = this.graph.getCellAt(this.currentState.getCenterX(), bds.y - this.triangleUp.height / 2);\n                var bottom = this.graph.getCellAt(this.currentState.getCenterX(), bds.y + bds.height + this.triangleDown.height / 2);\n                if (right != null && right === left && left === top_1 && top_1 === bottom) {\n                    right = null;\n                    left = null;\n                    top_1 = null;\n                    bottom = null;\n                }\n                var currentGeo_1 = this.graph.getCellGeometry(this.currentState.cell);\n                var checkCollision = mxUtils.bind(this, function (cell, arrow) {\n                    var geo = this.graph.model.isVertex(cell) && this.graph.getCellGeometry(cell);\n                    if (cell != null &&\n                        !this.graph.model.isAncestor(cell, this.currentState.cell) &&\n                        !this.graph.isSwimlane(cell) &&\n                        (geo == null ||\n                            currentGeo_1 == null ||\n                            (geo.height < 3 * currentGeo_1.height &&\n                                geo.width < 3 * currentGeo_1.width))) {\n                        arrow.style.visibility = 'hidden';\n                    }\n                    else {\n                        arrow.style.visibility = 'visible';\n                    }\n                });\n                checkCollision(right, this.arrowRight);\n                checkCollision(left, this.arrowLeft);\n                checkCollision(top_1, this.arrowUp);\n                checkCollision(bottom, this.arrowDown);\n            }\n            else {\n                this.arrowLeft.style.visibility = 'visible';\n                this.arrowRight.style.visibility = 'visible';\n                this.arrowUp.style.visibility = 'visible';\n                this.arrowDown.style.visibility = 'visible';\n            }\n        }\n        else {\n            this.reset();\n        }\n        if (this.currentState != null) {\n            this.bbox = this.computeBoundingBox();\n            if (this.bbox != null) {\n                this.bbox.grow(10);\n            }\n        }\n    }\n};\nHoverIcons.prototype.computeBoundingBox = function () {\n    var bbox = !this.graph.model.isEdge(this.currentState.cell)\n        ? mxRectangle.fromRectangle(this.currentState)\n        : null;\n    this.visitNodes(function (elt) {\n        if (elt.parentNode != null) {\n            var tmp = new mxRectangle(elt.offsetLeft, elt.offsetTop, elt.offsetWidth, elt.offsetHeight);\n            if (bbox == null) {\n                bbox = tmp;\n            }\n            else {\n                bbox.add(tmp);\n            }\n        }\n    });\n    return bbox;\n};\nHoverIcons.prototype.getState = function (state) {\n    if (state != null) {\n        var cell = state.cell;\n        if (!this.graph.getModel().contains(cell)) {\n            state = null;\n        }\n        else {\n            if (this.graph.getModel().isVertex(cell) &&\n                !this.graph.isCellConnectable(cell)) {\n                var parent_1 = this.graph.getModel().getParent(cell);\n                if (this.graph.getModel().isVertex(parent_1) &&\n                    this.graph.isCellConnectable(parent_1)) {\n                    cell = parent_1;\n                }\n            }\n            if (this.graph.isCellLocked(cell) || this.graph.model.isEdge(cell)) {\n                cell = null;\n            }\n            state = this.graph.view.getState(cell);\n            if (state != null && state.style == null) {\n                state = null;\n            }\n        }\n    }\n    return state;\n};\nHoverIcons.prototype.update = function (state, x, y) {\n    if (state != null &&\n        mxUtils.getValue(state.style, 'allowArrows', '1') === '0') {\n        this.reset();\n    }\n    else {\n        if (state != null &&\n            state.cell.geometry != null &&\n            state.cell.geometry.relative &&\n            this.graph.model.isEdge(state.cell.parent)) {\n            state = null;\n        }\n        var timeOnTarget = null;\n        if (this.prev !== state || this.isActive()) {\n            this.startTime = new Date().getTime();\n            this.prev = state;\n            timeOnTarget = 0;\n            if (this.updateThread != null) {\n                window.clearTimeout(this.updateThread);\n            }\n            if (state != null) {\n                this.updateThread = window.setTimeout(mxUtils.bind(this, function () {\n                    if (!this.isActive() &&\n                        !this.graph.isMouseDown &&\n                        !this.graph.panningHandler.isActive()) {\n                        this.prev = state;\n                        this.update(state, x, y);\n                    }\n                }), this.updateDelay + 10);\n            }\n        }\n        else if (this.startTime != null) {\n            timeOnTarget = new Date().getTime() - this.startTime;\n        }\n        this.setDisplay('');\n        if (this.currentState != null &&\n            this.currentState !== state &&\n            timeOnTarget < this.activationDelay &&\n            this.bbox != null &&\n            !mxUtils.contains(this.bbox, x, y)) {\n            this.reset(false);\n        }\n        else if (this.currentState != null ||\n            timeOnTarget > this.activationDelay) {\n            if (this.currentState !== state &&\n                ((timeOnTarget > this.updateDelay && state != null) ||\n                    this.bbox == null ||\n                    x == null ||\n                    y == null ||\n                    !mxUtils.contains(this.bbox, x, y))) {\n                if (state != null && this.graph.isEnabled()) {\n                    this.removeNodes();\n                    this.setCurrentState(state);\n                    this.repaint();\n                    if (this.graph.connectionHandler.constraintHandler.currentFocus !==\n                        state) {\n                        this.graph.connectionHandler.constraintHandler.reset();\n                    }\n                }\n                else {\n                    this.reset();\n                }\n            }\n        }\n    }\n};\nHoverIcons.prototype.setCurrentState = function (state) {\n    if (state.style['portConstraint'] !== 'eastwest') {\n        this.graph.container.appendChild(this.arrowUp);\n        this.graph.container.appendChild(this.arrowDown);\n    }\n    this.graph.container.appendChild(this.arrowRight);\n    this.graph.container.appendChild(this.arrowLeft);\n    this.currentState = state;\n};\nexport default HoverIcons;\n","import { __assign, __spreadArrays } from \"tslib\";\nimport React from 'react';\nimport { expandCells, parseJSON, getChildVertexs, updateCells, getCenterGeometry, getDefaultGeometry, getCells, } from '../../utils';\nimport { mxCell, mxGeometry, mxUtils, mxConstants, mxEventObject, config as mxConfig, getImageBasePath, } from '../mxgraph';\nimport { ECellType, EEventName } from '../../types';\nexport function commonGetCells(editorUI, cell, x, y) {\n    var source = commonGetCell(editorUI, cell, x, y);\n    var targets = [];\n    var _a = cell.relations, relations = _a === void 0 ? [] : _a;\n    for (var i = 0, l = relations.length; i < l; i++) {\n        var relation = relations[i];\n        var target = commonGetCell(editorUI, relation, x + 100 * (i + 1), y);\n        var edge = new mxCell({}, new mxGeometry(), null);\n        edge.setEdge(true);\n        edge.geometry.relative = true;\n        edge.source = source;\n        edge.target = target;\n        targets.push(edge, target);\n    }\n    return __spreadArrays([source], targets);\n}\nexport function commonGetCell(editorUI, cell, x, y) {\n    var graph = editorUI.editor.graph;\n    var key = cell.key, name = cell.name, _a = cell.value, value = _a === void 0 ? {} : _a, type = cell.type;\n    var geometry = getDefaultGeometry(cell);\n    var prototype = new mxCell(JSON.stringify(Object.assign({\n        key: key,\n        name: name,\n    }, value)), new mxGeometry(geometry.x, geometry.y, geometry.width, geometry.height), key);\n    prototype.setVertex(type !== undefined ? type === ECellType.VERTEX : true);\n    var t = graph.getModel().cloneCell(prototype);\n    t.geometry.x = x;\n    t.geometry.y = y;\n    return cell.afterInitial ? cell.afterInitial(t) : t;\n}\nexport function getCommonComponent(component, children, editorUI, cell) {\n    return React.cloneElement(component, Object.assign({}, component.props, {\n        onClick: function () {\n            insertCell(editorUI, cell);\n        },\n        children: children,\n    }));\n}\nexport function relateCells(graph, cells) {\n    cells = cells.filter(function (c) { return graph.model.isVertex(c); });\n    var ids = cells.map(function (c) { return c.getId(); });\n    var _loop_1 = function (i, l) {\n        var cell = cells[i];\n        var value = parseJSON(graph.model.getValue(cell), {});\n        var id = cell.getId();\n        graph.model.setValue(cell, JSON.stringify(__assign(__assign({}, value), { relatedIds: ids.filter(function (_id) { return _id !== id; }).join(';') })));\n    };\n    for (var i = 0, l = cells.length; i < l; i++) {\n        _loop_1(i, l);\n    }\n}\nvar EDirection;\n(function (EDirection) {\n    EDirection[\"north\"] = \"north\";\n    EDirection[\"northEast\"] = \"northEast\";\n    EDirection[\"northWest\"] = \"northWest\";\n    EDirection[\"south\"] = \"south\";\n    EDirection[\"southEast\"] = \"southEast\";\n    EDirection[\"southWest\"] = \"southWest\";\n    EDirection[\"east\"] = \"east\";\n    EDirection[\"west\"] = \"west\";\n})(EDirection || (EDirection = {}));\nfunction calcNextPosition(cell, target, direction, next) {\n    var cellGeo = getDefaultGeometry(cell);\n    var targetGeo = getCenterGeometry(target);\n    var x = 50;\n    var y = 50;\n    var _x = targetGeo.x, _y = targetGeo.y, _width = targetGeo.width, _height = targetGeo.height;\n    if (direction) {\n        switch (direction) {\n            case EDirection.east:\n                x = _x + _width / 2 + 50;\n                y = _y - cellGeo.height / 2;\n                break;\n            case EDirection.west:\n                x = _x - _width / 2 - 50 - cellGeo.width;\n                y = _y - cellGeo.height / 2;\n                break;\n            case EDirection.north:\n                x = _x - cellGeo.width / 2;\n                y = _y - _height / 2 - 50 - cellGeo.height;\n                break;\n            case EDirection.south:\n                x = _x - cellGeo.width / 2;\n                y = _y + _height / 2 + 50;\n                break;\n            default:\n                break;\n        }\n    }\n    else {\n        x = _x - cellGeo.width / 2;\n        y = _y + _height / 2 + 50;\n    }\n    return {\n        x: x,\n        y: y,\n    };\n}\nexport function insertCell(editorUI, cell, target, direction) {\n    var graph = editorUI.graph;\n    graph.model.beginUpdate();\n    try {\n        var drop = void 0;\n        var allVertexs = getCells(graph).filter(function (c) { return graph.model.isVertex(c); });\n        var selectedVertexs = expandCells(graph.getSelectionCells()).filter(function (c) {\n            return graph.model.isVertex(c);\n        });\n        if (target) {\n            drop = target;\n        }\n        else {\n            if (selectedVertexs.length > 0) {\n                drop = selectedVertexs[selectedVertexs.length - 1];\n            }\n            else if (allVertexs.length > 0) {\n                drop = allVertexs[allVertexs.length - 1];\n            }\n        }\n        var x = 50;\n        var y = 50;\n        var hasDrop = !!drop;\n        var targetCells = void 0;\n        var splitFlag = false;\n        var outgoingEdges = hasDrop ? graph.model.getOutgoingEdges(drop) : [];\n        var outgoingEdge = void 0;\n        if (hasDrop && !direction && outgoingEdges.length === 1) {\n            splitFlag = true;\n            outgoingEdge = outgoingEdges[0];\n        }\n        if (hasDrop) {\n            var nextPosition = calcNextPosition(cell, drop, direction, splitFlag && outgoingEdge && outgoingEdge.target\n                ? outgoingEdge.target\n                : undefined);\n            x = nextPosition.x;\n            y = nextPosition.y;\n        }\n        var cells = commonGetCells(editorUI, cell, x, y);\n        if (splitFlag) {\n            updateCells(graph, getChildVertexs(graph, drop.id), function (g, c) {\n                var geo = mxUtils.clone(c.getGeometry());\n                geo.y += 100;\n                g.model.setGeometry(c, geo);\n            });\n            graph.splitEdge(outgoingEdge, cells, null, 0, 0);\n            targetCells = cells;\n            splitFlag = true;\n        }\n        else {\n            targetCells = graph.importCells(cells, 0, 0);\n        }\n        if (!targetCells) {\n            return;\n        }\n        if (targetCells && targetCells.length > 0) {\n            if (targetCells.length > 1) {\n                relateCells(graph, targetCells);\n            }\n            if (hasDrop && !splitFlag) {\n                var first = targetCells[0];\n                graph.insertEdge(null, null, '', drop, first);\n            }\n        }\n        graph.setSelectionCells(targetCells);\n        graph.scrollCellToVisible(targetCells[targetCells.length - 1]);\n        return targetCells;\n    }\n    finally {\n        graph.model.endUpdate();\n        graph.fireEvent(new mxEventObject(EEventName.add));\n    }\n}\nexport function deleteCells(editorUI, cells) {\n    var graph = editorUI.graph;\n    graph.model.beginUpdate();\n    try {\n        if (cells.length === 1) {\n            var target = cells[0];\n            linkCellParentAndChild(editorUI, target, function () {\n                graph.removeCells(cells);\n            });\n        }\n        else {\n            graph.removeCells(cells);\n        }\n    }\n    finally {\n        graph.model.endUpdate();\n        graph.fireEvent(new mxEventObject(EEventName.delete));\n    }\n}\nexport function linkCellParentAndChild(editorUI, cell, onBefore, onAfter) {\n    var graph = editorUI.graph;\n    graph.model.beginUpdate();\n    try {\n        var incomingEdges = graph.model.getIncomingEdges(cell);\n        var outgoingEdges = graph.model.getOutgoingEdges(cell);\n        if (incomingEdges.length === 1 && outgoingEdges.length === 1) {\n            var source = incomingEdges[0].source;\n            var target = outgoingEdges[0].target;\n            onBefore && onBefore();\n            graph.insertEdge(null, null, '', source, target);\n            onAfter && onAfter();\n        }\n        else {\n            onBefore && onBefore();\n            onAfter && onAfter();\n        }\n    }\n    finally {\n        graph.model.endUpdate();\n        graph.fireEvent(new mxEventObject(EEventName.delete));\n    }\n}\nexport function moveCell(editorUI, drag, drop, revert) {\n    var graph = editorUI.graph;\n    graph.model.beginUpdate();\n    try {\n        var dragIncomingEdges = graph.model.getIncomingEdges(drag);\n        var dragOutgoingEdges = graph.model.getOutgoingEdges(drag);\n        var dropIncomingEdges = graph.model.getIncomingEdges(drop);\n        var dropOutgoingEdges = graph.model.getOutgoingEdges(drop);\n        if (dragIncomingEdges.length <= 1 &&\n            dragOutgoingEdges.length <= 1 &&\n            dropIncomingEdges.length <= 1 &&\n            dropOutgoingEdges.length <= 1) {\n            var dragParent = (dragIncomingEdges[0] || {}).source;\n            var dragChild = (dragOutgoingEdges[0] || {}).target;\n            var dropParent = (dropIncomingEdges[0] || {}).source;\n            var dropChild = (dropOutgoingEdges[0] || {}).target;\n            graph.removeCells([].concat(dragIncomingEdges).concat(dragOutgoingEdges));\n            if (revert) {\n                graph.removeCells(dropIncomingEdges);\n                dropParent && graph.insertEdge(null, null, '', dropParent, drag);\n                graph.insertEdge(null, null, '', drag, drop);\n                if (dragParent && dragParent.id !== drop.id) {\n                    dragChild && graph.insertEdge(null, null, '', dragParent, dragChild);\n                }\n                else {\n                    dragChild && graph.insertEdge(null, null, '', drop, dragChild);\n                }\n            }\n            else {\n                graph.removeCells(dropOutgoingEdges);\n                dropChild && graph.insertEdge(null, null, '', drag, dropChild);\n                graph.insertEdge(null, null, '', drop, drag);\n                if (dragChild && dragChild.id !== drop.id) {\n                    dragParent && graph.insertEdge(null, null, '', dragParent, dragChild);\n                }\n                else {\n                    dragParent && graph.insertEdge(null, null, '', dragParent, drop);\n                }\n            }\n        }\n    }\n    finally {\n        graph.model.endUpdate();\n        graph.fireEvent(new mxEventObject(EEventName.update));\n    }\n}\nvar lastDropTime;\nexport function makeDraggable(element, editorUI, cell) {\n    var graph = editorUI.editor.graph;\n    var geometry = getDefaultGeometry(cell);\n    var dragEl = document.createElement('div');\n    dragEl.style.position = 'relative';\n    dragEl.style.border = \"1px dashed \" + mxConfig.themeColor;\n    dragEl.style.width = (geometry.width || 0) + \"px\";\n    dragEl.style.height = (geometry.height || 0) + \"px\";\n    var ds = mxUtils.makeDraggable(element, graph, function (graph, evt, drop) {\n        var now = Date.now();\n        if (lastDropTime !== undefined && now - lastDropTime < 200) {\n            return;\n        }\n        lastDropTime = now;\n        graph.model.beginUpdate();\n        var targetCells;\n        try {\n            var pt = graph.getPointForEvent(evt);\n            var x = pt.x, y = pt.y;\n            var cells = commonGetCells(editorUI, cell, x, y);\n            if (graph.isSplitTarget(drop, cells, evt)) {\n                graph.splitEdge(drop, cells, null, -(geometry.width / 2), -(geometry.height / 2));\n                targetCells = cells;\n            }\n            else {\n                targetCells = graph.importCells(cells, 0, 0, drop);\n            }\n            if (targetCells.length > 1) {\n                relateCells(graph, targetCells);\n            }\n            graph.setSelectionCells(targetCells);\n            graph.scrollCellToVisible(targetCells[targetCells.length - 1]);\n        }\n        finally {\n            graph.model.endUpdate();\n            graph.fireEvent(new mxEventObject(EEventName.add));\n        }\n    }, dragEl, null, null, graph.autoscroll, true);\n    ds.isGuidesEnabled = function () {\n        return graph.graphHandler.guidesEnabled;\n    };\n}\nexport function commonInitial(element, editorUI, cell) {\n    makeDraggable(element, editorUI, cell);\n}\nexport function commonStatus(name, others) {\n    var _a, _b, _c, _d, _e;\n    return {\n        todo: __assign(__assign({}, others), (_a = {}, _a[mxConstants.STYLE_FONTCOLOR] = '#666666', _a[mxConstants.STYLE_IMAGE] = getImageBasePath(\"toolbar/\" + name + \"-todo.svg\"), _a)),\n        doing: __assign(__assign({}, others), (_b = {}, _b[mxConstants.STYLE_FONTCOLOR] = mxConfig.themeColor, _b[mxConstants.STYLE_IMAGE] = getImageBasePath(\"toolbar/\" + name + \"-doing.svg\"), _b)),\n        done: __assign(__assign({}, others), (_c = {}, _c[mxConstants.STYLE_IMAGE] = getImageBasePath(\"toolbar/\" + name + \".svg\"), _c)),\n        ignore: __assign(__assign({}, others), (_d = {}, _d[mxConstants.STYLE_FONTCOLOR] = '#999999', _d[mxConstants.STYLE_IMAGE] = getImageBasePath(\"toolbar/\" + name + \"-ignore.svg\"), _d)),\n        error: __assign(__assign({}, others), (_e = {}, _e[mxConstants.STYLE_FONTCOLOR] = '#ff0000', _e[mxConstants.STYLE_IMAGE] = getImageBasePath(\"toolbar/\" + name + \"-error.svg\"), _e)),\n    };\n}\n","import ReactDOM from 'react-dom';\nimport classnames from 'classnames';\nimport './style.scss';\nvar cls = 'bpm-flowchart-mask';\nexport function useMask(props) {\n    var className = props.className, children = props.children;\n    var clss = classnames(cls, className);\n    var container = document.createElement('div');\n    container.className = clss;\n    var background = document.createElement('div');\n    background.className = cls + \"-background\";\n    container.appendChild(background);\n    var wrapper = document.createElement('div');\n    wrapper.className = cls + \"-wrapper\";\n    container.appendChild(wrapper);\n    var close = function () {\n        ReactDOM.unmountComponentAtNode(wrapper);\n        document.body.removeChild(container);\n    };\n    background.onclick = close;\n    document.body.appendChild(container);\n    ReactDOM.render(children(close), wrapper, function () {\n        container.className = classnames(clss, cls + \"-active\");\n    });\n}\n","import { __assign } from \"tslib\";\nimport React from 'react';\nimport classnames from 'classnames';\nimport { useClosuer } from '../../../utils/hook';\nexport var cls = 'bpm-flowchart-cell-item';\nexport var Item = function (props) {\n    var className = props.className, style = props.style, editorUI = props.editorUI, data = props.data;\n    var ref = React.useRef(null);\n    var _a = React.useState(0), key = _a[0], setKey = _a[1];\n    var _b = data.listeners, listeners = _b === void 0 ? [] : _b;\n    var listenersCallback = {};\n    listeners.forEach(function (l) {\n        return (listenersCallback[l.name] = useClosuer(function (event) {\n            l.callback({\n                event: event,\n                element: ref.current,\n                render: function () { return setKey(key + 1); },\n            }, editorUI, data);\n        }));\n    });\n    React.useEffect(function () {\n        ref &&\n            ref.current &&\n            data.onInitial &&\n            data.onInitial(ref.current, editorUI, data);\n        listeners.forEach(function (l) {\n            return editorUI.graph.addListener(l.name, listenersCallback[l.name]);\n        });\n        return function () {\n            data.onDestroy && data.onDestroy(editorUI, data);\n            listeners.forEach(function (l) {\n                return editorUI.graph.removeListener(listenersCallback[l.name]);\n            });\n        };\n    }, [editorUI, data]);\n    var itemProps = {\n        style: style,\n        className: classnames(cls, className),\n    };\n    var cmpt = React.createElement(\"div\", __assign({}, itemProps), data.component);\n    if (data.getComponent) {\n        cmpt = data.getComponent(cmpt, editorUI, data);\n    }\n    return React.cloneElement(cmpt, {\n        ref: ref,\n        key: key,\n    });\n};\nexport default Item;\n","import React from 'react';\nexport function useClosuer(fn) {\n    var ref = React.useRef(null);\n    var fnProxy = React.useCallback(function () {\n        var args = [];\n        for (var _i = 0; _i < arguments.length; _i++) {\n            args[_i] = arguments[_i];\n        }\n        ref.current && ref.current.apply(ref, args);\n    }, []);\n    React.useEffect(function () {\n        ref.current = fn;\n    });\n    return fnProxy;\n}\n","import { __assign } from \"tslib\";\nimport React from 'react';\nimport classnames from 'classnames';\nimport CellItem from '../../../common/cell-item';\nimport './style.scss';\nvar cls = 'bpm-flowchart-arrow-panel';\nvar listCls = cls + '-list';\nvar itemCls = cls + '-item';\nvar ArrowPanel = function (props) {\n    var className = props.className, _a = props.style, style = _a === void 0 ? {} : _a, data = props.data, editorUI = props.editorUI, position = props.position;\n    return (React.createElement(\"div\", { className: classnames(cls, className), style: __assign(__assign({}, style), { left: position.x, top: position.y }) },\n        React.createElement(\"div\", { className: listCls }, data.map(function (item) { return (React.createElement(CellItem, { className: itemCls, key: item.key, data: item, editorUI: editorUI }, item.component)); }))));\n};\nexport default ArrowPanel;\n","import { parseJSON } from '../../utils';\nexport function getValidator(config, graph, cell, action) {\n    var toolbar = config.toolbar;\n    var key = parseJSON(graph.model.getValue(cell), {}).key;\n    return ((toolbar.map[key] || {}).validations || {})[action];\n}\nexport function validate(config, graph, cell, action) {\n    var validator = getValidator(config, graph, cell, action);\n    return !!validator ? validator() : true;\n}\n","import { __assign, __extends } from \"tslib\";\nimport React from 'react';\nimport { mxEventSource, mxEvent, mxConstants, mxGeometry, mxUtils, mxClipboard, mxEventObject, mxCellOverlay, mxImage, config as mxConfig, mxPoint, mxHierarchicalLayout, mxFastOrganicLayout, getImageBasePath, } from '../mxgraph';\nimport { expandCells, updateCells, parseJSON, throttle, isZoomWheelEvent, getChartConfig, getCells, loadXml, exportXml, } from '../../utils';\nimport { EEventName, EChartLayout, } from '../../types';\nimport Editor from '../editor';\nimport Actions from '../actions';\nimport HoverIcons from '../common/hover-icons';\nimport { useMask } from '../common/mask';\nimport { insertCell, deleteCells } from '../toolbar/utils';\nimport ArrowPanel from './components/arrow-panel';\nimport { getValidator, validate } from './utils';\nvar EditorUI = (function (_super) {\n    __extends(EditorUI, _super);\n    function EditorUI(container, config) {\n        var _this = _super.call(this) || this;\n        _this.maxZoom = 200;\n        _this.minZoom = 30;\n        _this.init = function () {\n            _this.initKeyHandler();\n            _this.initEvents();\n            _this.initWheelZoom();\n            _this.initArrow();\n            _this.initPanning();\n        };\n        _this.initArrow = function () {\n            var editorUI = _this.editorUI;\n            var editable = _this.config.editable !== false;\n            var toolbarMap = _this.config.toolbar.data.reduce(function (p, c) { return p.set(c.key, c); }, new Map());\n            editable &&\n                (_this.hoverIcons = new HoverIcons(_this.editor.graph, function (cell, dir, evt) {\n                    if (!cell) {\n                        return;\n                    }\n                    var _a = (toolbarMap.get(parseJSON(cell.value, {}).key) || {}).connections, connections = _a === void 0 ? [] : _a;\n                    var _b = evt.clientX, clientX = _b === void 0 ? 0 : _b, _c = evt.clientY, clientY = _c === void 0 ? 0 : _c;\n                    connections.length > 0 &&\n                        useMask({\n                            children: function (close) { return (React.createElement(ArrowPanel, { editorUI: editorUI, data: connections.map(function (c) { return (__assign(__assign({}, c), { getComponent: c.getComponent\n                                        ? function (cmpt, ui, item) {\n                                            return c.getComponent\n                                                ? React.cloneElement(c.getComponent(cmpt, ui, item), {\n                                                    onClick: function () {\n                                                        insertCell(editorUI, item, cell, dir);\n                                                        close();\n                                                    },\n                                                })\n                                                : cmpt;\n                                        }\n                                        : undefined, onInitial: undefined })); }), position: {\n                                    x: clientX,\n                                    y: clientY,\n                                } })); },\n                        });\n                }));\n        };\n        _this.autoLayout = function () {\n            var layout;\n            switch (_this.config.layout) {\n                case EChartLayout.fastOrganic:\n                    layout = new mxFastOrganicLayout(_this.graph);\n                    break;\n                default:\n                    layout = new mxHierarchicalLayout(_this.graph);\n                    break;\n            }\n            layout.interHierarchySpacing = 50;\n            layout.interRankCellSpacing = 50;\n            layout.execute(_this.graph.getDefaultParent());\n        };\n        _this.initPanning = function () {\n            var graph = _this.graph;\n            var diagramContainer = graph.container;\n            var spaceKeyPressed = false;\n            var currentInContainer = false;\n            mxEvent.addListener(diagramContainer, 'mouseenter', function (e) {\n                currentInContainer = true;\n            });\n            mxEvent.addListener(diagramContainer, 'mouseleave', function (e) {\n                currentInContainer = false;\n            });\n            _this.keydownHandler = function (evt) {\n                if (evt.which === 32 && !graph.isEditing()) {\n                    spaceKeyPressed = true;\n                    _this.hoverIcons && _this.hoverIcons.reset();\n                    graph.container.style.cursor = 'move';\n                    if (!graph.isEditing() && currentInContainer) {\n                        mxEvent.consume(evt);\n                    }\n                }\n            };\n            var graphFireMouseEvent = graph.fireMouseEvent;\n            graph.fireMouseEvent = function (evtName, me, sender) {\n                if (evtName === mxEvent.MOUSE_DOWN) {\n                    this.container.focus();\n                }\n                graphFireMouseEvent.apply(this, arguments);\n            };\n            mxEvent.addListener(document, 'keydown', _this.keydownHandler);\n            _this.keyupHandler = function (evt) {\n                graph.container.style.cursor = '';\n                spaceKeyPressed = false;\n            };\n            mxEvent.addListener(document, 'keyup', _this.keyupHandler);\n            var panningHandlerIsForcePanningEvent = graph.panningHandler.isForcePanningEvent;\n            graph.panningHandler.isForcePanningEvent = function (me) {\n                return (panningHandlerIsForcePanningEvent.apply(this, arguments) ||\n                    spaceKeyPressed);\n            };\n        };\n        _this.wheelHandler = throttle(function (evt, zoomIn, force) {\n            if (force || isZoomWheelEvent(evt)) {\n                var source = mxEvent.getSource(evt);\n                evt.preventDefault();\n                while (source != null) {\n                    if (source === _this.graph.container) {\n                        _this.zoom(zoomIn ? 'zoomIn' : 'zoomOut');\n                        mxEvent.consume(evt);\n                        return;\n                    }\n                    source = source.parentNode;\n                }\n            }\n        }, 50, 50);\n        _this.initWheelZoom = function () {\n            mxEvent.addMouseWheelListener(_this.wheelHandler, _this.graph.container);\n        };\n        _this.initKeyHandler = function () {\n            var graph = _this.graph;\n            var keyHandler = graph.keyHandler;\n            var editable = _this.config.editable !== false;\n            if (!editable) {\n                return;\n            }\n            keyHandler.bindKey(Editor.deleteKey, function () {\n                _this.delete();\n            });\n            keyHandler.bindControlKey(37, function () {\n                _this.rubberband();\n            });\n            keyHandler.bindControlKey(90, function () {\n                _this.undo();\n            });\n            keyHandler.bindControlShiftKey(90, function () {\n                _this.redo();\n            });\n            keyHandler.bindControlKey(187, function () {\n                _this.zoom('zoomIn');\n            });\n            keyHandler.bindControlKey(189, function () {\n                _this.zoom('zoomOut');\n            });\n            keyHandler.bindControlKey(65, function () {\n                graph.selectAll(null, true);\n            });\n            keyHandler.bindControlShiftKey(65, function () {\n                graph.clearSelection();\n            });\n            keyHandler.bindControlKey(67, function () {\n                _this.copy();\n            });\n            keyHandler.bindControlKey(88, function () {\n                _this.cut();\n            });\n            keyHandler.bindControlKey(86, function () {\n                _this.paste();\n            });\n            var moveVertexs = function (geometry) {\n                updateCells(graph, expandCells(graph.getSelectionCells()).filter(function (c) {\n                    return graph.model.isVertex(c);\n                }), function (g, c) {\n                    var geo = mxUtils.clone(c.getGeometry());\n                    geo.x += geometry.x;\n                    geo.y += geometry.y;\n                    g.model.setGeometry(c, geo);\n                });\n            };\n            keyHandler.bindKey(38, function () {\n                moveVertexs(new mxGeometry(0, -10));\n            });\n            keyHandler.bindKey(40, function () {\n                moveVertexs(new mxGeometry(0, 10));\n            });\n            keyHandler.bindKey(37, function () {\n                moveVertexs(new mxGeometry(-10, 0));\n            });\n            keyHandler.bindKey(39, function () {\n                moveVertexs(new mxGeometry(10, 0));\n            });\n        };\n        _this.initEvents = function () {\n            var graph = _this.graph;\n            var onSelectCells = _this.config.onSelectCells;\n            graph\n                .getSelectionModel()\n                .addListener(mxEvent.CHANGE, function (sender, evt) {\n                onSelectCells(graph, sender, evt);\n                graph.fireEvent(new mxEventObject(EEventName.select, 'sender', sender, 'event', evt));\n            });\n            graph.addListener(mxEvent.CLICK, function (sender, evt) {\n            });\n            graph.addListener(mxEvent.DOUBLE_CLICK, function (sender, evt) { });\n        };\n        _this.copy = function () {\n            var cells = (_this.graph.getSelectionCells() || []).filter(function (cell) {\n                var validator = getValidator(_this.config, _this.graph, cell, 'copy');\n                return !!validator ? validator() : true;\n            });\n            mxClipboard.copy(_this.graph, cells);\n        };\n        _this.cut = function () {\n            var cells = (_this.graph.getSelectionCells() || []).filter(function (cell) {\n                var validator = getValidator(_this.config, _this.graph, cell, 'cut');\n                return !!validator ? validator() : true;\n            });\n            mxClipboard.cut(_this.graph, cells);\n        };\n        _this.paste = function () {\n            var graph = _this.graph;\n            if (graph.isEnabled() && !graph.isCellLocked(graph.getDefaultParent())) {\n                graph.getModel().beginUpdate();\n                try {\n                    var cells = mxClipboard.paste(graph);\n                    if (cells != null) {\n                        var includeEdges = true;\n                        for (var i = 0; i < cells.length && includeEdges; i++) {\n                            includeEdges = includeEdges && graph.model.isEdge(cells[i]);\n                        }\n                        var t = graph.view.translate;\n                        var s = graph.view.scale;\n                        var dx = t.x;\n                        var dy = t.y;\n                        var bb = null;\n                        if (cells.length === 1 && includeEdges) {\n                            var geo = graph.getCellGeometry(cells[0]);\n                            if (geo != null) {\n                                bb = geo.getTerminalPoint(true);\n                            }\n                        }\n                        bb =\n                            bb != null\n                                ? bb\n                                : graph.getBoundingBoxFromGeometry(cells, includeEdges);\n                        if (bb != null) {\n                            var x = Math.round(graph.snap(graph.popupMenuHandler.triggerX / s - dx));\n                            var y = Math.round(graph.snap(graph.popupMenuHandler.triggerY / s - dy));\n                            graph.cellsMoved(cells, x - bb.x, y - bb.y);\n                        }\n                    }\n                }\n                finally {\n                    graph.getModel().endUpdate();\n                }\n            }\n        };\n        _this.canZoom = function (scaleTo) {\n            if (scaleTo <= _this.maxZoom && scaleTo >= _this.minZoom) {\n                return true;\n            }\n            return false;\n        };\n        _this.zoom = function (type) {\n            var graph = _this.graph;\n            var scale = _this.graph.view.scale * 100;\n            var scaleTo = scale + (type === 'zoomIn' ? 10 : -10);\n            if (_this.canZoom(scaleTo)) {\n                graph.zoomTo(scaleTo / 100, true);\n                graph.fireEvent(new mxEventObject(EEventName.zoom, 'zoom', scaleTo));\n            }\n        };\n        _this.canUndo = function () { return _this.editor.undoManager.indexOfNextAdd > 0; };\n        _this.undo = function () {\n            var graph = _this.graph;\n            try {\n                if (graph.isEditing()) {\n                    var value = graph.cellEditor.textarea.innerHTML;\n                    document.execCommand('undo', false);\n                    if (value === graph.cellEditor.textarea.innerHTML) {\n                        graph.stopEditing(true);\n                        _this.editor.undoManager.undo();\n                    }\n                }\n                else {\n                    _this.editor.undoManager.undo();\n                }\n            }\n            catch (e) {\n            }\n            finally {\n                graph.fireEvent(new mxEventObject(EEventName.undo));\n            }\n        };\n        _this.clearUndo = function () {\n            _this.editor.undoManager.clear();\n        };\n        _this.canAlignment = function () {\n            return (_this.graph.isEnabled() &&\n                expandCells(_this.graph.getSelectionCells()).filter(function (c) {\n                    return _this.graph.model.isVertex(c);\n                }).length > 1);\n        };\n        _this.align = function (type) {\n            var selectedVertexs = expandCells(_this.graph.getSelectionCells()).filter(function (c) { return _this.graph.model.isVertex(c); });\n            if (selectedVertexs.length < 2) {\n                return;\n            }\n            var alignVertex = selectedVertexs[0];\n            var alignGeo = alignVertex.getGeometry();\n            var _a = alignGeo.x, x = _a === void 0 ? 0 : _a, _b = alignGeo.y, y = _b === void 0 ? 0 : _b, _c = alignGeo.width, width = _c === void 0 ? 50 : _c, _d = alignGeo.height, height = _d === void 0 ? 50 : _d;\n            updateCells(_this.graph, selectedVertexs, function (g, c, i) {\n                if (i === 0) {\n                    return;\n                }\n                var geo = mxUtils.clone(c.getGeometry());\n                var _a = geo.x, _x = _a === void 0 ? 0 : _a, _b = geo.y, _y = _b === void 0 ? 0 : _b, _c = geo.width, _width = _c === void 0 ? 50 : _c, _d = geo.height, _height = _d === void 0 ? 50 : _d;\n                switch (type) {\n                    case 'left':\n                        geo.x = x;\n                        break;\n                    case 'top':\n                        geo.y = y;\n                        break;\n                    case 'right':\n                        geo.x += x + width - (_x + _width);\n                        break;\n                    case 'bottom':\n                        geo.y += y + height - (_y + _height);\n                        break;\n                    case 'lrCenter':\n                        geo.x += x + width / 2 - (_x + _width / 2);\n                        break;\n                    case 'tbCenter':\n                        geo.y += y + height / 2 - (_y + _height / 2);\n                        break;\n                    default:\n                        break;\n                }\n                g.model.setGeometry(c, geo);\n            });\n        };\n        _this.canRedo = function () {\n            return _this.editor.undoManager.indexOfNextAdd <\n                _this.editor.undoManager.history.length;\n        };\n        _this.redo = function () {\n            var graph = _this.graph;\n            try {\n                if (graph.isEditing()) {\n                    document.execCommand('redo', false);\n                }\n                else {\n                    _this.editor.undoManager.redo();\n                }\n            }\n            catch (e) {\n            }\n            finally {\n                graph.fireEvent(new mxEventObject(EEventName.redo));\n            }\n        };\n        _this.canRubberBand = function () { return _this.graph.rubberband.enabled; };\n        _this.rubberband = function (enabled) {\n            var graph = _this.graph;\n            try {\n                _this.graph.rubberband.setEnabled(enabled !== undefined ? enabled : !_this.graph.rubberband.enabled);\n            }\n            finally {\n                graph.fireEvent(new mxEventObject(EEventName.rubberband));\n            }\n        };\n        _this.canDelete = function () {\n            var cells = (_this.graph.getSelectionCells() || []).filter(function (cell) {\n                return validate(_this.config, _this.graph, cell, 'delete');\n            });\n            return _this.graph.isEnabled() && cells.length > 0;\n        };\n        _this.delete = function () {\n            var editorUI = _this.editorUI;\n            deleteCells(editorUI, (_this.graph.getSelectionCells() || []).filter(function (cell) {\n                return validate(_this.config, _this.graph, cell, 'delete');\n            }));\n        };\n        _this.highlight = function (cells, duration) {\n            var graph = _this.graph;\n            var _cells = cells\n                .map(function (c) { return graph.model.getCell(c.id); })\n                .filter(function (c) { return graph.model.isEdge(c); });\n            try {\n                _this.graph.orderCells(false, _cells);\n                updateCells(graph, _cells, function (g, c) {\n                    g.model.setStyle(c, mxUtils.setStyle(c.style, [mxConstants.STYLE_STROKECOLOR], mxConfig.themeColor));\n                });\n            }\n            finally {\n                clearTimeout(_this.highlightTimer);\n                duration &&\n                    (_this.highlightTimer = setTimeout(function () {\n                        updateCells(graph, _cells, function (g, c) {\n                            g.model.setStyle(c, mxUtils.setStyle(c.style, [mxConstants.STYLE_STROKECOLOR], '#666666'));\n                        });\n                    }, duration));\n            }\n        };\n        _this.toggleOverlay = function (cell, active, customOverlay) {\n            var graph = _this.graph;\n            var overlays = graph.getCellOverlays(cell);\n            overlays != null && graph.removeCellOverlays(cell);\n            if (!active) {\n                return;\n            }\n            var overlay = customOverlay\n                ? customOverlay\n                : new mxCellOverlay(new mxImage(getImageBasePath('error.svg'), 16, 16), null, mxConstants.ALIGN_RIGHT, mxConstants.ALIGN_TOP, new mxPoint(8, -8));\n            overlay.addListener(mxEvent.CLICK, function (sender, evt) {\n                console.log(sender, evt);\n            });\n            graph.addCellOverlay(cell, overlay);\n        };\n        _this.cancelHighlight = function (cells) {\n            var graph = _this.graph;\n            var _cells = (cells !== undefined ? cells : getCells(graph))\n                .map(function (c) { return graph.model.getCell(c.id); })\n                .filter(function (c) { return graph.model.isEdge(c); });\n            updateCells(graph, _cells, function (g, c) {\n                g.model.setStyle(c, mxUtils.setStyle(c.style, [mxConstants.STYLE_STROKECOLOR], '#666666'));\n            });\n        };\n        _this.selectCells = function (cells) {\n            var graph = _this.graph;\n            graph.setSelectionCells(cells);\n            graph.scrollCellToVisible(cells[0]);\n        };\n        _this.setCellsValue = function (cells, values) {\n            var graph = _this.graph;\n            var afterUpdateCells = _this.config.afterUpdateCells;\n            updateCells(graph, cells, function (g, c, i) {\n                var value = (values || [])[i];\n                if (!value) {\n                    return;\n                }\n                g.model.setValue(c, JSON.stringify(__assign(__assign({}, parseJSON(c.value, {})), value)));\n            });\n            afterUpdateCells && afterUpdateCells(graph);\n        };\n        _this.setCellValue = function (cell, value) {\n            _this.setCellsValue([cell], [value]);\n        };\n        _this.redraw = function (delay) {\n            setTimeout(function () {\n                _this.editor.initPageFormat();\n                _this.graph.view.validate();\n                _this.graph.sizeDidChange();\n            }, delay);\n        };\n        _this.loadXml = function (xml) {\n            return loadXml(_this.graph, xml);\n        };\n        _this.exportXml = function (pretty) {\n            return exportXml(_this.graph, pretty);\n        };\n        _this.destroy = function () {\n            try {\n                mxEvent.removeListener(_this.graph.container, 'wheel', _this.wheelHandler);\n                _this.keydownHandler &&\n                    mxEvent.removeListener(document, 'keydown', _this.keydownHandler);\n                _this.keyupHandler &&\n                    mxEvent.removeListener(document, 'keyup', _this.keyupHandler);\n                _this.editor && _this.editor.destroy();\n            }\n            catch (e) {\n            }\n        };\n        _this.container = container;\n        _this.config = getChartConfig(config || {});\n        _this.editorUI = _this;\n        _this.editor = new Editor(container, config);\n        _this.graph = _this.editor.graph;\n        _this.actions = new Actions(_this);\n        _this.init();\n        return _this;\n    }\n    return EditorUI;\n}(mxEventSource));\nexport default EditorUI;\n","import React from 'react';\nvar SVGDelete = function () { return (React.createElement(\"svg\", { viewBox: \"0 0 17 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", width: \"20\", height: \"20\" },\n    React.createElement(\"g\", { stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n        React.createElement(\"g\", { transform: \"translate(0.444444, 0.444444)\", fill: \"currentColor\", fillRule: \"nonzero\" },\n            React.createElement(\"path\", { d: \"M11.7923861,12.901745 C11.7923861,13.4092199 11.3793261,13.82228 10.8718512,13.82228 L4.23928269,13.82228 C3.7318078,13.82228 3.31874777,13.4092199 3.31874777,12.901745 L3.31874777,3.12991421 L11.7923861,3.12991421 L11.7923861,12.901745 Z M5.15981762,1.47765882 C5.15981762,1.37144319 5.24242981,1.288831 5.34864544,1.288831 L9.77429816,1.288831 C9.88051379,1.288831 9.96312598,1.37144319 9.96312598,1.47765882 L9.96312598,2.03234019 L5.15981762,2.03234019 L5.15982526,1.47765882 L5.15981762,1.47765882 Z M14.5540004,2.03234019 L11.0606943,2.03234019 L11.0606943,1.47765882 C11.0606943,0.769554002 10.4824087,0.191270343 9.7743058,0.191270343 L5.34865308,0.191270343 C4.64054826,0.191270343 4.0622646,0.769555912 4.0622646,1.47765882 L4.0622646,2.03234019 L0.557156359,2.03234019 C0.250311384,2.03234019 0.00247498457,2.28017659 0.00247498457,2.58702157 C0.00247498457,2.89386654 0.250311384,3.14170294 0.557156359,3.14170294 L2.20939839,3.14170294 L2.20939839,12.9017317 C2.20939839,14.0228965 3.11813121,14.9316351 4.23930179,14.9316351 L10.8718703,14.9316351 C11.9930351,14.9316351 12.9017737,14.0229022 12.9017737,12.9017317 L12.9017737,3.12990085 L14.5540157,3.12990085 C14.8608607,3.12990085 15.1086971,2.88206445 15.1086971,2.57521947 C15.1086971,2.2683745 14.8608607,2.03234019 14.5540157,2.03234019 L14.5540004,2.03234019 Z M7.55556693,12.1582339 C7.86241191,12.1582339 8.11024831,11.9103975 8.11024831,11.6035525 L8.11024831,5.70269499 C8.11024831,5.39585001 7.86241191,5.14801361 7.55556693,5.14801361 C7.24872196,5.14801361 7.00088556,5.39585001 7.00088556,5.70269499 L7.00088556,11.6035525 C7.00088556,11.9103975 7.24872196,12.1582339 7.55556693,12.1582339 L7.55556693,12.1582339 Z M4.97098406,12.1582339 C5.27782904,12.1582339 5.52566544,11.9103975 5.52566544,11.6035525 L5.52566544,5.70269499 C5.52566544,5.39585001 5.27782904,5.14801361 4.97098406,5.14801361 C4.66413909,5.14801361 4.41630269,5.39585001 4.41630269,5.70269499 L4.41630269,11.6035525 C4.42810442,11.9103975 4.67594119,12.1582339 4.97098406,12.1582339 L4.97098406,12.1582339 Z M10.1401498,12.1582339 C10.4469948,12.1582339 10.6948312,11.9103975 10.6948312,11.6035525 L10.6948312,5.70269499 C10.6948312,5.39585001 10.4469948,5.14801361 10.1401498,5.14801361 C9.83330483,5.14801361 9.58546843,5.39585001 9.58546843,5.70269499 L9.58546843,11.6035525 C9.58546843,11.9103975 9.83330483,12.1582339 10.1401498,12.1582339 L10.1401498,12.1582339 Z\" }))))); };\nexport default SVGDelete;\n","import React from 'react';\nvar SVGUndo = function () { return (React.createElement(\"svg\", { viewBox: \"0 0 17 17\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", width: \"20\", height: \"20\" },\n    React.createElement(\"g\", { stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n        React.createElement(\"path\", { d: \"M0.279108203,5.45850693 L0.279108203,11.593025 L6.52319672,11.593025 L4.36576765,9.48987412 C4.36576765,9.48987412 10.4811904,3.3030888 15.7208918,10.2408656 C15.4756259,7.00070872 12.0021828,4.01487556 7.86829203,4.449187 C4.65730236,4.78898427 2.2777074,7.43801079 2.2777074,7.43801079 L0.279108203,5.45850693 L0.279108203,5.45850693 Z\", fill: \"currentColor\", fillRule: \"nonzero\" })))); };\nexport default SVGUndo;\n","import React from 'react';\nvar SVGRedo = function () { return (React.createElement(\"svg\", { viewBox: \"0 0 16 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\", width: \"20\", height: \"20\" },\n    React.createElement(\"g\", { stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n        React.createElement(\"g\", { transform: \"translate(8.000000, 8.000000) scale(-1, 1) translate(-8.000000, -8.000000) translate(0.000000, 4.000000)\", fill: \"currentColor\", fillRule: \"nonzero\" },\n            React.createElement(\"path\", { d: \"M0.26562624,7.45040315 L6.50971476,7.45040315 L4.35228568,5.34725227 C4.35228568,5.34725227 10.4677084,-0.839533058 15.7074098,6.09824377 C15.4621439,2.85808687 11.9887008,-0.127746292 7.85481007,0.306565151 C4.6438204,0.646362421 2.26422544,3.29538894 2.26422544,3.29538894 L0.26562624,1.31588508 L0.26562624,7.45040315 Z\" }))))); };\nexport default SVGRedo;\n","import React from 'react';\nvar RubberBand = function () { return (React.createElement(\"svg\", { viewBox: \"0 0 20 20\", version: \"1.1\", width: \"20\", height: \"20\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\" },\n    React.createElement(\"g\", { id: \"\\u6846\\u9009\", transform: \"translate(2.070927, 2.102177)\", fill: \"currentColor\", fillRule: \"nonzero\" },\n        React.createElement(\"path\", { d: \"M0.0997328359,15.9046417 L2.91517526,15.9046417 L2.91517526,13.0878966 L0.0997328359,13.0878966 L0.0997328359,15.9046417 Z M13.0851213,15.9046417 L15.9002923,15.9046417 L15.9002923,13.0878966 L13.0851213,13.0878966 L13.0851213,15.9046417 Z M13.0851213,0.0953798703 L13.0851213,2.91212492 L15.9002923,2.91212492 L15.9002923,0.0953798703 L13.0851213,0.0953798703 Z M0.0997328359,2.91212492 L2.91517526,2.91212492 L2.91517526,0.0953798703 L0.0997328359,0.0953798703 L0.0997328359,2.91212492 Z M10.8774296,7.74407956 L5.3512077,3.61057146 L6.1471925,10.4908805 L7.70081043,8.45280242 L9.82050204,12.14631 L10.4403926,11.7863436 L8.31467628,8.0823788 L10.877426,7.74408861 L10.8774296,7.74407956 Z M15.302438,15.3024634 L15.8582281,15.3024634 L15.8582281,15.8582535 L15.302438,15.8582535 L15.302438,15.3024634 Z M14.7615612,15.8582535 L14.2205922,15.8582535 L14.2205922,15.3024634 L14.7615612,15.3024634 L14.7615612,15.8582535 Z M13.6797154,15.8582535 L13.1387464,15.8582535 L13.1387464,15.3024634 L13.6797154,15.3024634 L13.6797154,15.8582535 Z M12.5978696,15.8582535 L12.0569928,15.8582535 L12.0569928,15.3024634 L12.5978696,15.3024634 L12.5978696,15.8582535 Z M11.5160238,15.8582535 L10.9750547,15.8582535 L10.9750547,15.3024634 L11.5160238,15.3024634 L11.5160238,15.8582535 Z M10.4341779,15.8582535 L9.89320887,15.8582535 L9.89320887,15.3024634 L10.4341779,15.3024634 L10.4341779,15.8582535 Z M9.35233209,15.8582535 L8.81145531,15.8582535 L8.81145531,15.3024634 L9.35233209,15.3024634 L9.35233209,15.8582535 Z M8.27048626,15.8582535 L7.72960948,15.8582535 L7.72960948,15.3024634 L8.27048626,15.3024634 L8.27048626,15.8582535 Z M7.18864043,15.8582535 L6.64767138,15.8582535 L6.64767138,15.3024634 L7.18864043,15.3024634 L7.18864043,15.8582535 Z M6.1067946,15.8582535 L5.56591781,15.8582535 L5.56591781,15.3024634 L6.1067946,15.3024634 L6.1067946,15.8582535 Z M5.02494876,15.8582535 L4.48407198,15.8582535 L4.48407198,15.3024634 L5.02494876,15.3024634 L5.02494876,15.8582535 Z M3.94310293,15.8582535 L3.40213388,15.8582535 L3.40213388,15.3024634 L3.94310293,15.3024634 L3.94310293,15.8582535 Z M2.8612571,15.8582535 L2.32038032,15.8582535 L2.32038032,15.3024634 L2.8612571,15.3024634 L2.8612571,15.8582535 Z M1.77941127,15.8582535 L1.23844222,15.8582535 L1.23844222,15.3024634 L1.77941127,15.3024634 L1.77941127,15.8582535 Z M0.141775319,15.3024634 L0.697565439,15.3024634 L0.697565439,15.8582535 L0.141775319,15.8582535 L0.141775319,15.3024634 Z M0.697565439,14.7615866 L0.141775319,14.7615866 L0.141775319,14.2206175 L0.697565439,14.2206175 L0.697565439,14.7615866 Z M0.697565439,13.6797407 L0.141775319,13.6797407 L0.141775319,13.1387717 L0.697565439,13.1387717 L0.697565439,13.6797407 Z M0.697565439,12.5978949 L0.141775319,12.5978949 L0.141775319,12.0570181 L0.697565439,12.0570181 L0.697565439,12.5978949 Z M0.697565439,11.5160491 L0.141775319,11.5160491 L0.141775319,10.97508 L0.697565439,10.97508 L0.697565439,11.5160491 Z M0.697565439,10.4342032 L0.141775319,10.4342032 L0.141775319,9.8932342 L0.697565439,9.8932342 L0.697565439,10.4342032 Z M0.697565439,9.35235742 L0.141775319,9.35235742 L0.141775319,8.81148064 L0.697565439,8.81148064 L0.697565439,9.35235742 Z M0.697565439,8.27051159 L0.141775319,8.27051159 L0.141775319,7.72963481 L0.697565439,7.72963481 L0.697565439,8.27051159 Z M0.697565439,7.18866576 L0.141775319,7.18866576 L0.141775319,6.64769671 L0.697565439,6.64769671 L0.697565439,7.18866576 Z M0.697565439,6.10681992 L0.141775319,6.10681992 L0.141775319,5.56594314 L0.697565439,5.56594314 L0.697565439,6.10681992 Z M0.697565439,5.02497409 L0.141775319,5.02497409 L0.141775319,4.48409731 L0.697565439,4.48409731 L0.697565439,5.02497409 Z M0.697565439,3.94312826 L0.141775319,3.94312826 L0.141775319,3.40215921 L0.697565439,3.40215921 L0.697565439,3.94312826 Z M0.697565439,2.86128243 L0.141775319,2.86128243 L0.141775319,2.32040565 L0.697565439,2.32040565 L0.697565439,2.86128243 Z M0.697565439,1.7794366 L0.141775319,1.7794366 L0.141775319,1.23846755 L0.697565439,1.23846755 L0.697565439,1.7794366 Z M0.141775319,0.141800648 L0.697565439,0.141800648 L0.697565439,0.697590768 L0.141775319,0.697590768 L0.141775319,0.141800648 Z M14.7615522,0.697590768 L14.2205831,0.697590768 L14.2205831,0.141800648 L14.7615522,0.141800648 L14.7615522,0.697590768 Z M13.6797064,0.697590768 L13.1387373,0.697590768 L13.1387373,0.141800648 L13.6797064,0.141800648 L13.6797064,0.697590768 Z M12.5978605,0.697590768 L12.0569838,0.697590768 L12.0569838,0.141800648 L12.5978605,0.141800648 L12.5978605,0.697590768 Z M11.5160147,0.697590768 L10.9750457,0.697590768 L10.9750457,0.141800648 L11.5160147,0.141800648 L11.5160147,0.697590768 Z M10.4341689,0.697590768 L9.89319982,0.697590768 L9.89319982,0.141800648 L10.4341689,0.141800648 L10.4341689,0.697590768 Z M9.35232304,0.697590768 L8.81144626,0.697590768 L8.81144626,0.141800648 L9.35232304,0.141800648 L9.35232304,0.697590768 Z M8.27047721,0.697590768 L7.72960043,0.697590768 L7.72960043,0.141800648 L8.27047721,0.141800648 L8.27047721,0.697590768 Z M7.18863138,0.697590768 L6.6477546,0.697590768 L6.6477546,0.141800648 L7.18863138,0.141800648 L7.18863138,0.697590768 Z M6.10678555,0.697590768 L5.5658165,0.697590768 L5.5658165,0.141800648 L6.10678555,0.141800648 L6.10678555,0.697590768 Z M5.02493972,0.697590768 L4.48406294,0.697590768 L4.48406294,0.141800648 L5.02493972,0.141800648 L5.02493972,0.697590768 Z M3.94309389,0.697590768 L3.40212484,0.697590768 L3.40212484,0.141800648 L3.94309389,0.141800648 L3.94309389,0.697590768 Z M2.86124806,0.697590768 L2.32037128,0.697590768 L2.32037128,0.141800648 L2.86124806,0.141800648 L2.86124806,0.697590768 Z M1.77940222,0.697590768 L1.23852544,0.697590768 L1.23852544,0.141800648 L1.77940222,0.141800648 L1.77940222,0.697590768 Z M15.3024163,0.141800648 L15.8582064,0.141800648 L15.8582064,0.697590768 L15.3024163,0.697590768 L15.3024163,0.141800648 Z M15.8582064,14.7615775 L15.3024163,14.7615775 L15.3024163,14.2206085 L15.8582064,14.2206085 L15.8582064,14.7615775 Z M15.8582064,13.6797317 L15.3024163,13.6797317 L15.3024163,13.1387626 L15.8582064,13.1387626 L15.8582064,13.6797317 Z M15.8582064,12.5978859 L15.3024163,12.5978859 L15.3024163,12.0570091 L15.8582064,12.0570091 L15.8582064,12.5978859 Z M15.8582064,11.51604 L15.3024163,11.51604 L15.3024163,10.975071 L15.8582064,10.975071 L15.8582064,11.51604 Z M15.8582064,10.4341942 L15.3024163,10.4341942 L15.3024163,9.89322515 L15.8582064,9.89322515 L15.8582064,10.4341942 Z M15.8582064,9.35234837 L15.3024163,9.35234837 L15.3024163,8.81147159 L15.8582064,8.81147159 L15.8582064,9.35234837 Z M15.8582064,8.27050254 L15.3024163,8.27050254 L15.3024163,7.72962576 L15.8582064,7.72962576 L15.8582064,8.27050254 Z M15.8582064,7.18865671 L15.3024163,7.18865671 L15.3024163,6.64777993 L15.8582064,6.64777993 L15.8582064,7.18865671 Z M15.8582064,6.10681088 L15.3024163,6.10681088 L15.3024163,5.56584183 L15.8582064,5.56584183 L15.8582064,6.10681088 Z M15.8582064,5.02496505 L15.3024163,5.02496505 L15.3024163,4.48408827 L15.8582064,4.48408827 L15.8582064,5.02496505 Z M15.8582064,3.94311922 L15.3024163,3.94311922 L15.3024163,3.40215017 L15.8582064,3.40215017 L15.8582064,3.94311922 Z M15.8582064,2.86127338 L15.3024163,2.86127338 L15.3024163,2.3203966 L15.8582064,2.3203966 L15.8582064,2.86127338 Z M15.8582064,1.77942755 L15.3024163,1.77942755 L15.3024163,1.23855077 L15.8582064,1.23855077 L15.8582064,1.77942755 Z\", id: \"\\u5F62\\u72B6\" })))); };\nexport default RubberBand;\n","import React from 'react';\nvar SVGAlignment = function () { return (React.createElement(\"svg\", { width: \"20\", height: \"20\", viewBox: \"0 0 20 20\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\" },\n    React.createElement(\"g\", { stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n        React.createElement(\"g\", null,\n            React.createElement(\"g\", { transform: \"translate(2.500000, 2.635254)\" },\n                React.createElement(\"rect\", { x: \"0\", y: \"0.0384615385\", width: \"16\", height: \"16\" }),\n                React.createElement(\"g\", { transform: \"translate(1.000000, 0.571795)\", stroke: \"currentColor\", strokeWidth: \"1.2\" },\n                    React.createElement(\"g\", { transform: \"translate(2.345497, 0.954764)\" },\n                        React.createElement(\"rect\", { x: \"0.6\", y: \"0.6\", width: \"7.2\", height: \"4.4\", rx: \"1\" }),\n                        React.createElement(\"rect\", { x: \"0.6\", y: \"7.16226712\", width: \"10\", height: \"4.4\", rx: \"1\" })),\n                    React.createElement(\"path\", { d: \"M0.502564103,0 L0.502564103,14.0717949\", strokeLinecap: \"round\" }))))))); };\nexport default SVGAlignment;\n","import React from 'react';\nvar SVGAlignTop = function () { return (React.createElement(\"svg\", { width: \"20\", height: \"20\", viewBox: \"0 0 16 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\" },\n    React.createElement(\"title\", null, \"\\u9876\\u90E8\\u5BF9\\u9F50\"),\n    React.createElement(\"desc\", null, \"Created with Sketch.\"),\n    React.createElement(\"g\", { stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n        React.createElement(\"g\", null,\n            React.createElement(\"g\", { transform: \"translate(8.000000, 8.000000) rotate(-270.000000) translate(-8.000000, -8.000000) translate(1.000000, 0.500000)\", stroke: \"currentColor\", strokeWidth: \"1.2\" },\n                React.createElement(\"rect\", { x: \"2.9454971\", y: \"1.55476387\", width: \"7.2\", height: \"4.4\", rx: \"1\" }),\n                React.createElement(\"rect\", { x: \"2.9454971\", y: \"8.117031\", width: \"10\", height: \"4.4\", rx: \"1\" }),\n                React.createElement(\"path\", { d: \"M0.502564103,3.88133969e-13 L0.502564103,14.0717949\", strokeLinecap: \"round\" })))))); };\nexport default SVGAlignTop;\n","import React from 'react';\nvar SVGAlignTBCenter = function () { return (React.createElement(\"svg\", { width: \"20\", height: \"20\", viewBox: \"0 0 16 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\" },\n    React.createElement(\"title\", null, \"\\u4E0A\\u4E0B\\u5C45\\u4E2D\\u5BF9\\u9F50\"),\n    React.createElement(\"desc\", null, \"Created with Sketch.\"),\n    React.createElement(\"g\", { id: \"\\u4E0A\\u4E0B\\u5C45\\u4E2D\\u5BF9\\u9F50\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n        React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-47\\u590D\\u5236-2\" },\n            React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-38\", transform: \"translate(0.500000, 2.000000)\", stroke: \"currentColor\", strokeWidth: \"1.2\" },\n                React.createElement(\"rect\", { id: \"\\u77E9\\u5F62\", transform: \"translate(11.162267, 6.035897) rotate(-270.000000) translate(-11.162267, -6.035897) \", x: \"7.56226712\", y: \"3.83589744\", width: \"7.2\", height: \"4.4\", rx: \"1\" }),\n                React.createElement(\"rect\", { id: \"\\u77E9\\u5F62\\u590D\\u5236-145\", transform: \"translate(4.630621, 6.035897) rotate(-270.000000) translate(-4.630621, -6.035897) \", x: \"-0.769378673\", y: \"3.83589744\", width: \"10.8\", height: \"4.4\", rx: \"1\" }),\n                React.createElement(\"path\", { d: \"M7.88113356,-1 L7.88113356,13.0717949\", id: \"\\u8DEF\\u5F84-72\", strokeLinecap: \"round\", transform: \"translate(7.881134, 6.035897) rotate(-270.000000) translate(-7.881134, -6.035897) \" })))))); };\nexport default SVGAlignTBCenter;\n","import React from 'react';\nvar SVGAlignBottom = function () { return (React.createElement(\"svg\", { width: \"20\", height: \"20\", viewBox: \"0 0 16 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\" },\n    React.createElement(\"title\", null, \"\\u5E95\\u5BF9\\u9F50\"),\n    React.createElement(\"desc\", null, \"Created with Sketch.\"),\n    React.createElement(\"g\", { id: \"\\u5E95\\u5BF9\\u9F50\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n        React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-49\\u590D\\u5236\" },\n            React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-37\\u590D\\u5236-2\", transform: \"translate(8.000000, 8.000000) rotate(-90.000000) translate(-8.000000, -8.000000) translate(1.000000, 0.500000)\", stroke: \"currentColor\", strokeWidth: \"1.2\" },\n                React.createElement(\"rect\", { id: \"\\u77E9\\u5F62\\u590D\\u5236-22\", x: \"2.9454971\", y: \"8.117031\", width: \"7.2\", height: \"4.4\", rx: \"1\" }),\n                React.createElement(\"rect\", { id: \"\\u77E9\\u5F62\\u590D\\u5236-146\", x: \"2.9454971\", y: \"1.55476387\", width: \"10\", height: \"4.4\", rx: \"1\" }),\n                React.createElement(\"path\", { d: \"M0.502564103,0 L0.502564103,14.0717949\", id: \"\\u8DEF\\u5F84-72\", strokeLinecap: \"round\" })))))); };\nexport default SVGAlignBottom;\n","import React from 'react';\nvar SVGAlignLeft = function () { return (React.createElement(\"svg\", { width: \"20\", height: \"20\", viewBox: \"0 0 16 17\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\" },\n    React.createElement(\"title\", null, \"\\u5DE6\\u5BF9\\u9F50\"),\n    React.createElement(\"desc\", null, \"Created with Sketch.\"),\n    React.createElement(\"g\", { id: \"\\u5DE6\\u5BF9\\u9F50\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n        React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-104\\u590D\\u5236-2\" },\n            React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-48\", transform: \"translate(1.000000, 0.571795)\", stroke: \"currentColor\", strokeWidth: \"1.2\" },\n                React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-36\", transform: \"translate(2.345497, 0.954764)\" },\n                    React.createElement(\"rect\", { id: \"\\u77E9\\u5F62\", x: \"0.6\", y: \"0.6\", width: \"7.2\", height: \"4.4\", rx: \"1\" }),\n                    React.createElement(\"rect\", { id: \"\\u77E9\\u5F62\\u590D\\u5236-145\", x: \"0.6\", y: \"7.16226712\", width: \"10\", height: \"4.4\", rx: \"1\" })),\n                React.createElement(\"path\", { d: \"M0.502564103,0 L0.502564103,14.0717949\", id: \"\\u8DEF\\u5F84-72\", strokeLinecap: \"round\" })))))); };\nexport default SVGAlignLeft;\n","import React from 'react';\nvar SVGAlignLRCenter = function () { return (React.createElement(\"svg\", { width: \"20\", height: \"20\", viewBox: \"0 0 16 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\" },\n    React.createElement(\"title\", null, \"\\u5DE6\\u53F3\\u5C45\\u4E2D\\u5BF9\\u9F50\"),\n    React.createElement(\"desc\", null, \"Created with Sketch.\"),\n    React.createElement(\"g\", { id: \"\\u5DE6\\u53F3\\u5C45\\u4E2D\\u5BF9\\u9F50\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n        React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-47\\u590D\\u5236-3\", transform: \"translate(8.000000, 8.000000) rotate(-90.000000) translate(-8.000000, -8.000000) \" },\n            React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-38\", transform: \"translate(0.500000, 2.000000)\", stroke: \"currentColor\", strokeWidth: \"1.2\" },\n                React.createElement(\"rect\", { id: \"\\u77E9\\u5F62\", transform: \"translate(11.162267, 6.035897) rotate(-270.000000) translate(-11.162267, -6.035897) \", x: \"7.56226712\", y: \"3.83589744\", width: \"7.2\", height: \"4.4\", rx: \"1\" }),\n                React.createElement(\"rect\", { id: \"\\u77E9\\u5F62\\u590D\\u5236-145\", transform: \"translate(4.421062, 6.035897) rotate(-270.000000) translate(-4.421062, -6.035897) \", x: \"-0.978938195\", y: \"3.83589744\", width: \"10.8\", height: \"4.4\", rx: \"1\" }),\n                React.createElement(\"path\", { d: \"M7.88113356,-1 L7.88113356,13.0717949\", id: \"\\u8DEF\\u5F84-72\", strokeLinecap: \"round\", transform: \"translate(7.881134, 6.035897) rotate(-270.000000) translate(-7.881134, -6.035897) \" })))))); };\nexport default SVGAlignLRCenter;\n","import React from 'react';\nvar SVGAlignRight = function () { return (React.createElement(\"svg\", { width: \"20\", height: \"20\", viewBox: \"0 0 16 16\", version: \"1.1\", xmlns: \"http://www.w3.org/2000/svg\", xmlnsXlink: \"http://www.w3.org/1999/xlink\" },\n    React.createElement(\"title\", null, \"\\u53F3\\u5BF9\\u9F50\"),\n    React.createElement(\"desc\", null, \"Created with Sketch.\"),\n    React.createElement(\"g\", { id: \"\\u53F3\\u5BF9\\u9F50\", stroke: \"none\", strokeWidth: \"1\", fill: \"none\", fillRule: \"evenodd\" },\n        React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-44\\u590D\\u5236\" },\n            React.createElement(\"g\", { id: \"\\u7F16\\u7EC4-37\\u590D\\u5236-3\", transform: \"translate(8.000000, 8.000000) scale(1, -1) rotate(-180.000000) translate(-8.000000, -8.000000) translate(1.000000, 0.500000)\", stroke: \"currentColor\", strokeWidth: \"1.2\" },\n                React.createElement(\"rect\", { id: \"\\u77E9\\u5F62\", x: \"2.9454971\", y: \"1.55476387\", width: \"7.2\", height: \"4.4\", rx: \"1\" }),\n                React.createElement(\"rect\", { id: \"\\u77E9\\u5F62\\u590D\\u5236-145\", x: \"2.9454971\", y: \"8.117031\", width: \"10\", height: \"4.4\", rx: \"1\" }),\n                React.createElement(\"path\", { d: \"M0.502564103,3.88133969e-13 L0.502564103,14.0717949\", id: \"\\u8DEF\\u5F84-72\", strokeLinecap: \"round\" })))))); };\nexport default SVGAlignRight;\n","import { __assign, __rest } from \"tslib\";\nimport React from 'react';\nimport classnames from 'classnames';\nimport SVGDelete from './delete';\nimport SVGUndo from './undo';\nimport SVGRedo from './redo';\nimport SVGRubberBand from './rubberband';\nimport SVGAlignment from './alignment';\nimport SVGAlignTop from './aligntop';\nimport SVGAlignTBCenter from './aligntbcenter';\nimport SVGAlignBottom from './alignbottom';\nimport SVGAlignLeft from './alignleft';\nimport SVGAlignLRCenter from './alignlrcenter';\nimport SVGAlignRight from './alignright';\nimport './style.scss';\nexport var SVGMapper = {\n    delete: SVGDelete,\n    undo: SVGUndo,\n    redo: SVGRedo,\n    rubberband: SVGRubberBand,\n    alignment: SVGAlignment,\n    alignTop: SVGAlignTop,\n    alignTBCenter: SVGAlignTBCenter,\n    alignBottom: SVGAlignBottom,\n    alignLeft: SVGAlignLeft,\n    alignLRCenter: SVGAlignLRCenter,\n    alignRight: SVGAlignRight,\n};\nvar cls = 'bpm-flowchart-svg';\nvar SVG = function (props) {\n    var name = props.name, className = props.className, style = props.style;\n    var Cmpt = SVGMapper[name];\n    return (Cmpt && (React.createElement(\"span\", { className: classnames(cls, className), style: style },\n        React.createElement(Cmpt, null))));\n};\nexport var TitleSVG = function (props) {\n    var title = props.title, style = props.style, restProps = __rest(props, [\"title\", \"style\"]);\n    return (React.createElement(\"div\", { className: cls + \"-title\" },\n        React.createElement(SVG, __assign({ style: style }, restProps)),\n        React.createElement(\"span\", { style: style }, title)));\n};\nexport default SVG;\n","import React from 'react';\nimport { Tooltip, Dropdown } from 'antd';\nimport Menubar from './index';\nexport function getCommonComponent(component, children, editorUI, cell) {\n    var action = editorUI.actions.get(cell.key);\n    var name = cell.name, _a = cell.relations, relations = _a === void 0 ? [] : _a;\n    component = React.cloneElement(component, Object.assign({}, component.props, {\n        onClick: function () { return action && action.funct && action.funct(); },\n        children: children,\n    }));\n    if (relations.length > 0) {\n        return (React.createElement(Dropdown, { overlay: React.createElement(Menubar, { editorUI: editorUI, data: relations, isSub: true }) }, component));\n    }\n    if (name && action && action.tooltip) {\n        return (React.createElement(Tooltip, { title: React.createElement(\"div\", { style: { textAlign: 'center' } },\n                React.createElement(\"div\", null, name),\n                action && action.shortcut && React.createElement(\"div\", null, action.shortcut)) }, component));\n    }\n    return component;\n}\nexport function reRender(ref, editorUI, cell) {\n    ref && ref.render && ref.render();\n}\n","import { __assign } from \"tslib\";\nimport React from 'react';\nimport { EEventName } from '../../types';\nimport { TitleSVG } from '../common/svg';\nimport { getCommonComponent, reRender } from './utils';\nexport var map = {\n    undo: {\n        key: 'undo',\n        name: '撤销',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"undo\", style: {\n                    color: editorUI.canUndo() ? '#666666' : '#cccccc',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.undo,\n                callback: reRender,\n            },\n            {\n                name: EEventName.redo,\n                callback: reRender,\n            },\n            {\n                name: EEventName.add,\n                callback: reRender,\n            },\n        ],\n    },\n    redo: {\n        key: 'redo',\n        name: '恢复',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"redo\", style: {\n                    color: editorUI.canRedo() ? '#666666' : '#cccccc',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.undo,\n                callback: reRender,\n            },\n            {\n                name: EEventName.redo,\n                callback: reRender,\n            },\n            {\n                name: EEventName.add,\n                callback: reRender,\n            },\n        ],\n    },\n    delete: {\n        key: 'delete',\n        name: '删除',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"delete\", style: {\n                    color: editorUI.canDelete() ? '#666666' : '#cccccc',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.select,\n                callback: reRender,\n            },\n        ],\n    },\n    rubberband: {\n        key: 'rubberband',\n        name: '框选',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"rubberband\", style: {\n                    color: editorUI.canRubberBand() ? '#4285f4' : '#666666',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.rubberband,\n                callback: reRender,\n            },\n        ],\n    },\n    alignment: {\n        key: 'alignment',\n        name: '对齐',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"alignment\", style: {\n                    color: editorUI.canAlignment() ? '#666666' : '#cccccc',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.select,\n                callback: reRender,\n            },\n        ],\n    },\n    alignTop: {\n        key: 'alignTop',\n        name: '顶部对齐',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"alignTop\", style: {\n                    color: editorUI.canAlignment() ? '#666666' : '#cccccc',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.select,\n                callback: reRender,\n            },\n        ],\n    },\n    alignTBCenter: {\n        key: 'alignTBCenter',\n        name: '上下居中对齐',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"alignTBCenter\", style: {\n                    color: editorUI.canAlignment() ? '#666666' : '#cccccc',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.select,\n                callback: reRender,\n            },\n        ],\n    },\n    alignBottom: {\n        key: 'alignBottom',\n        name: '底对齐',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"alignBottom\", style: {\n                    color: editorUI.canAlignment() ? '#666666' : '#cccccc',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.select,\n                callback: reRender,\n            },\n        ],\n    },\n    alignLeft: {\n        key: 'alignLeft',\n        name: '左对齐',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"alignLeft\", style: {\n                    color: editorUI.canAlignment() ? '#666666' : '#cccccc',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.select,\n                callback: reRender,\n            },\n        ],\n    },\n    alignLRCenter: {\n        key: 'alignLRCenter',\n        name: '左右居中对齐',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"alignLRCenter\", style: {\n                    color: editorUI.canAlignment() ? '#666666' : '#cccccc',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.select,\n                callback: reRender,\n            },\n        ],\n    },\n    alignRight: {\n        key: 'alignRight',\n        name: '右对齐',\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleSVG, { title: cell.name, name: \"alignRight\", style: {\n                    color: editorUI.canAlignment() ? '#666666' : '#cccccc',\n                } }), editorUI, cell);\n        },\n        listeners: [\n            {\n                name: EEventName.select,\n                callback: reRender,\n            },\n        ],\n    },\n};\nexport var data = [\n    map.undo,\n    map.redo,\n    map.delete,\n    __assign(__assign({}, map.alignment), { relations: [\n            map.alignTop,\n            map.alignTBCenter,\n            map.alignBottom,\n            map.alignLeft,\n            map.alignLRCenter,\n            map.alignRight,\n        ] }),\n];\n","var _a, _b, _c, _d, _e, _f, _g, _h, _j, _k, _l, _m, _o, _p, _q, _r;\nimport { __assign } from \"tslib\";\nimport React from 'react';\nimport { mxConstants, mxPerimeter, getImageBasePath } from '../mxgraph';\nimport { ECellKey } from '../../types';\nimport { TitleIMG } from '../common/img';\nimport { commonInitial, commonStatus, getCommonComponent } from './utils';\nvar commonStyle = (_a = {},\n    _a[mxConstants.STYLE_SHAPE] = mxConstants.SHAPE_IMAGE,\n    _a[mxConstants.STYLE_PERIMETER] = mxPerimeter.RectanglePerimeter,\n    _a[mxConstants.STYLE_IMAGE_ASPECT] = 'none',\n    _a);\nvar commonRectStyle = (_b = {},\n    _b[mxConstants.STYLE_WHITE_SPACE] = 'wrap',\n    _b);\nvar commonLabelStyle = (_c = {},\n    _c[mxConstants.STYLE_VERTICAL_LABEL_POSITION] = 'bottom',\n    _c[mxConstants.STYLE_VERTICAL_ALIGN] = 'top',\n    _c[mxConstants.STYLE_SPACING_TOP] = 8,\n    _c);\nvar commonStyle1 = __assign(__assign({}, commonStyle), commonLabelStyle);\nvar commonStyle2 = __assign(__assign({}, commonStyle), commonRectStyle);\nvar commonConstraints = [\n    [0.25, 0],\n    [0.5, 0],\n    [0.75, 0],\n    [0, 0.25],\n    [1, 0.25],\n    [0, 0.5],\n    [1, 0.5],\n    [0, 0.75],\n    [1, 0.75],\n    [0.25, 1],\n    [0.5, 1],\n    [0.75, 1],\n];\nexport var iconMap = (_d = {},\n    _d[ECellKey.generalStart] = getImageBasePath('toolbar/general-start.svg'),\n    _d[ECellKey.generalEnd] = getImageBasePath('toolbar/general-end.svg'),\n    _d[ECellKey.draft] = getImageBasePath('toolbar/draft-m.svg'),\n    _d[ECellKey.review] = getImageBasePath('toolbar/review-m.svg'),\n    _d[ECellKey.startSubProcess] = getImageBasePath('toolbar/sub-process-m.svg'),\n    _d[ECellKey.send] = getImageBasePath('toolbar/send-m.svg'),\n    _d[ECellKey.sign] = getImageBasePath('toolbar/sign-m.svg'),\n    _d[ECellKey.conditionBranch] = getImageBasePath('toolbar/condition-branch.svg'),\n    _d[ECellKey.manualBranch] = getImageBasePath('toolbar/manual-branch.svg'),\n    _d[ECellKey.split] = getImageBasePath('toolbar/split.svg'),\n    _d[ECellKey.join] = getImageBasePath('toolbar/join.svg'),\n    _d);\nexport var map = (_e = {},\n    _e[ECellKey.generalStart] = {\n        key: ECellKey.generalStart,\n        name: '开始事件',\n        style: __assign(__assign({}, commonStyle1), (_f = {}, _f[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/general-start.svg'), _f)),\n        status: commonStatus('general-start', commonStyle1),\n        geometry: {\n            width: 40,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.generalStart], title: \"\\u5F00\\u59CB\\u4E8B\\u4EF6\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n        validations: {\n            copy: function () { return false; },\n            cut: function () { return false; },\n            delete: function () { return false; },\n        },\n    },\n    _e[ECellKey.generalEnd] = {\n        key: ECellKey.generalEnd,\n        name: '结束事件',\n        style: __assign(__assign({}, commonStyle1), (_g = {}, _g[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/general-end.svg'), _g)),\n        status: commonStatus('general-end', commonStyle1),\n        geometry: {\n            width: 40,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.generalEnd], title: \"\\u7ED3\\u675F\\u4E8B\\u4EF6\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n        validations: {\n            copy: function () { return false; },\n            cut: function () { return false; },\n            delete: function () { return false; },\n        },\n        multiplicities: [\n            {\n                source: true,\n                max: 0,\n                countError: '结束事件禁止流出连线',\n                typeError: '目标禁止连接',\n            },\n        ],\n    },\n    _e[ECellKey.draft] = {\n        key: ECellKey.draft,\n        name: '起草节点',\n        style: __assign(__assign({}, commonStyle2), (_h = {}, _h[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/draft.svg'), _h)),\n        status: commonStatus(ECellKey.draft, commonStyle2),\n        geometry: {\n            width: 160,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        constraints: commonConstraints,\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.draft], title: \"\\u8D77\\u8349\\u8282\\u70B9\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n    },\n    _e[ECellKey.review] = {\n        key: ECellKey.review,\n        name: '审批节点',\n        style: __assign(__assign({}, commonStyle2), (_j = {}, _j[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/review.svg'), _j)),\n        status: commonStatus(ECellKey.review, commonStyle2),\n        geometry: {\n            width: 160,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        constraints: commonConstraints,\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.review], title: \"\\u5BA1\\u6279\\u8282\\u70B9\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n    },\n    _e[ECellKey.startSubProcess] = {\n        key: ECellKey.startSubProcess,\n        name: '子流程节点',\n        style: __assign(__assign({}, commonStyle2), (_k = {}, _k[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/sub-process.svg'), _k)),\n        status: commonStatus('sub-process', commonStyle2),\n        geometry: {\n            width: 160,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        constraints: commonConstraints,\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.startSubProcess], title: \"\\u5B50\\u6D41\\u7A0B\\u8282\\u70B9\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n    },\n    _e[ECellKey.send] = {\n        key: ECellKey.send,\n        name: '抄送节点',\n        style: __assign(__assign({}, commonStyle2), (_l = {}, _l[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/send.svg'), _l)),\n        status: commonStatus('send', commonStyle2),\n        geometry: {\n            width: 160,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        constraints: commonConstraints,\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.send], title: \"\\u6284\\u9001\\u8282\\u70B9\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n    },\n    _e[ECellKey.sign] = {\n        key: ECellKey.sign,\n        name: '签字节点',\n        style: __assign(__assign({}, commonStyle2), (_m = {}, _m[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/sign.svg'), _m)),\n        status: commonStatus(ECellKey.sign, commonStyle2),\n        geometry: {\n            width: 160,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        constraints: commonConstraints,\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.sign], title: \"\\u7B7E\\u5B57\\u8282\\u70B9\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n    },\n    _e[ECellKey.conditionBranch] = {\n        key: ECellKey.conditionBranch,\n        name: '条件分支',\n        style: __assign(__assign({}, commonStyle1), (_o = {}, _o[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/condition-branch.svg'), _o)),\n        status: commonStatus('condition-branch', commonStyle1),\n        geometry: {\n            width: 40,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.conditionBranch], title: \"\\u6761\\u4EF6\\u5206\\u652F\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n    },\n    _e[ECellKey.manualBranch] = {\n        key: ECellKey.manualBranch,\n        name: '人工分支',\n        style: __assign(__assign({}, commonStyle1), (_p = {}, _p[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/manual-branch.svg'), _p)),\n        status: commonStatus('manual-branch', commonStyle1),\n        geometry: {\n            width: 40,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.manualBranch], title: \"\\u4EBA\\u5DE5\\u5206\\u652F\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n    },\n    _e[ECellKey.split] = {\n        key: ECellKey.split,\n        name: '并行分支',\n        style: __assign(__assign({}, commonStyle1), (_q = {}, _q[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/split.svg'), _q)),\n        status: commonStatus('split', commonStyle1),\n        geometry: {\n            width: 40,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.split], title: \"\\u5E76\\u884C\\u5206\\u652F\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n    },\n    _e[ECellKey.join] = {\n        key: ECellKey.join,\n        name: '并行分支',\n        style: __assign(__assign({}, commonStyle1), (_r = {}, _r[mxConstants.STYLE_IMAGE] = getImageBasePath('toolbar/join.svg'), _r)),\n        status: commonStatus('join', commonStyle1),\n        geometry: {\n            width: 40,\n            height: 40,\n            x: 0,\n            y: 0,\n        },\n        getComponent: function (component, editorUI, cell) {\n            return getCommonComponent(component, React.createElement(TitleIMG, { src: iconMap[ECellKey.join], title: \"\\u5E76\\u884C\\u5206\\u652F\" }), editorUI, cell);\n        },\n        onInitial: commonInitial,\n    },\n    _e);\nvar commonConnections = [\n    map.review,\n    map.startSubProcess,\n    map.send,\n    map.sign,\n    map.conditionBranch,\n    map.manualBranch,\n    __assign(__assign({}, map.split), { relations: [map.join] }),\n];\nexport var data = [\n    __assign(__assign({}, map.generalStart), { disabled: true, connections: commonConnections }),\n    __assign(__assign({}, map.generalEnd), { disabled: true }),\n    __assign(__assign({}, map.draft), { connections: commonConnections }),\n    __assign(__assign({}, map.review), { connections: commonConnections }),\n    __assign(__assign({}, map.startSubProcess), { connections: commonConnections }),\n    __assign(__assign({}, map.send), { connections: commonConnections }),\n    __assign(__assign({}, map.sign), { connections: commonConnections }),\n    __assign(__assign({}, map.conditionBranch), { connections: commonConnections }),\n    __assign(__assign({}, map.manualBranch), { connections: commonConnections }),\n    __assign(__assign({}, map.split), { relations: [map.join], connections: commonConnections }),\n];\n","import { __assign } from \"tslib\";\nimport React from 'react';\nimport classnames from 'classnames';\nimport CellItem from '../common/cell-item';\nimport EditorUI from '../editorui';\nexport * from './config';\nimport './style.scss';\nexport var baseCls = 'bpm-flowchart-menubar';\nexport var itemCls = baseCls + \"-item\";\nvar Menubar = function (props) {\n    var _a;\n    var editorUI = props.editorUI, className = props.className, style = props.style, data = props.data, isSub = props.isSub, forwardedRef = props.forwardedRef;\n    React.useEffect(function () {\n    }, [EditorUI]);\n    return (React.createElement(\"div\", { ref: forwardedRef, className: classnames(baseCls, className, (_a = {},\n            _a[baseCls + \"-sub\"] = !!isSub,\n            _a)), style: style }, data.map(function (item) { return (React.createElement(CellItem, { className: itemCls, key: item.key, data: item, editorUI: editorUI }, item.component)); })));\n};\nvar ForwardedMenubar = React.forwardRef(function (props, ref) { return (React.createElement(Menubar, __assign({}, props, { forwardedRef: ref }))); });\nexport default ForwardedMenubar;\n","import { __assign, __rest } from \"tslib\";\nimport React from 'react';\nvar IMG = function (props) {\n    return React.createElement(\"img\", __assign({}, props));\n};\nexport var TitleIMG = function (props) {\n    var title = props.title, restProps = __rest(props, [\"title\"]);\n    return (React.createElement(React.Fragment, null,\n        React.createElement(IMG, __assign({}, restProps)),\n        title));\n};\nexport default IMG;\n","import React from 'react';\nimport classnames from 'classnames';\nimport CellItem from '../common/cell-item';\nexport * from './config';\nimport './style.scss';\nvar cls = 'bpm-flowchart-toolbar';\nvar itemCls = cls + \"-item\";\nvar Toolbar = function (props) {\n    var editorUI = props.editorUI, className = props.className, style = props.style, data = props.data;\n    React.useEffect(function () {\n    }, [editorUI]);\n    return (React.createElement(\"div\", { className: classnames(cls, className), style: style }, data\n        .filter(function (item) { return !item.disabled; })\n        .map(function (item) { return (React.createElement(CellItem, { className: itemCls, key: item.key, data: item, editorUI: editorUI }, item.component)); })));\n};\nexport default Toolbar;\n","export default __webpack_public_path__ + \"imgs/zoom-in.svg?7d8e449109c14a33708c7e785a19718b\";","export default __webpack_public_path__ + \"imgs/zoom-out.svg?4c8f36c0e093165d5c0b405506fb3382\";","export default __webpack_public_path__ + \"imgs/screen-0.svg?62422d88f9e5ecf623b952ed248e827c\";","export default __webpack_public_path__ + \"imgs/screen-1.svg?dd9ac0dd6aa5ca6fcb6104b5191d38dc\";","export default __webpack_public_path__ + \"imgs/outline.svg?5e9cd68adad76accae4566092cfd60a1\";","export default __webpack_public_path__ + \"imgs/delete.svg?861c66a1a26d74432091f747e6968c71\";","export function getZoomData(min, max, step) {\n    step = step || 10;\n    var data = [];\n    for (var i = min; i <= max; i += step) {\n        data.push(i);\n    }\n    return data;\n}\n","import React from 'react';\nimport classnames from 'classnames';\nimport { Popover } from 'antd';\nimport { mxOutline } from '../mxgraph';\nimport svgZoomIn from '@@/static/mxgraph/images/sidebar/zoom-in.svg';\nimport svgZoomOut from '@@/static/mxgraph/images/sidebar/zoom-out.svg';\nimport svgScreen0 from '@@/static/mxgraph/images/sidebar/screen-0.svg';\nimport svgScreen1 from '@@/static/mxgraph/images/sidebar/screen-1.svg';\nimport svgOutline from '@@/static/mxgraph/images/sidebar/outline.svg';\nimport svgDelete from '@@/static/mxgraph/images/sidebar/delete.svg';\nimport { EEventName } from '../../types';\nimport { getZoomData } from './utils';\nimport './style.scss';\nvar cls = 'bpm-flowchart-sidebar';\nvar itemCls = cls + '-item';\nvar Zoomer = function (props) {\n    var _a, _b;\n    var editorUI = props.editorUI;\n    var _c = React.useState((editorUI.graph.view.scale || 1) * 100), zoom = _c[0], setZoom = _c[1];\n    var _cls = cls + \"-zoomer\";\n    var zoomTo = function (value) {\n        setZoom(value);\n        editorUI.graph.zoomTo(parseFloat((value / 100).toFixed(1)), true);\n    };\n    React.useEffect(function () {\n        var zoomHandler = function (sender, me) {\n            var zoom = me.properties.zoom;\n            setZoom(parseInt(zoom));\n        };\n        editorUI.graph.addListener(EEventName.zoom, zoomHandler);\n        return function () {\n            editorUI.graph.removeListener(zoomHandler);\n        };\n    }, []);\n    return (React.createElement(\"div\", { className: _cls },\n        React.createElement(\"div\", { className: classnames(_cls + \"-btn\", (_a = {},\n                _a[_cls + \"-btn-disabled\"] = zoom <= editorUI.minZoom,\n                _a)), style: {\n                backgroundImage: \"url(\" + svgZoomOut + \")\",\n            }, onClick: function () { return zoom > editorUI.minZoom && zoomTo(zoom - 10); } }),\n        React.createElement(Popover, { overlayStyle: {}, overlayClassName: _cls + \"-popover\", content: React.createElement(\"div\", { className: _cls + \"-zooms\" }, getZoomData(editorUI.minZoom, editorUI.maxZoom).map(function (v) {\n                var _a;\n                return (React.createElement(\"div\", { onClick: function () { return zoomTo(v); }, key: v, className: classnames(_cls + \"-zoom\", (_a = {},\n                        _a[_cls + \"-zoom-active\"] = zoom === v,\n                        _a)) }, v + \"%\"));\n            })) },\n            React.createElement(\"div\", { className: _cls + \"-text\" },\n                zoom + '%',\n                React.createElement(\"div\", { className: _cls + \"-arrow\" }))),\n        React.createElement(\"div\", { className: classnames(_cls + \"-btn\", (_b = {},\n                _b[_cls + \"-btn-disabled\"] = zoom >= editorUI.maxZoom,\n                _b)), style: {\n                backgroundImage: \"url(\" + svgZoomIn + \")\",\n            }, onClick: function () { return zoom < editorUI.maxZoom && zoomTo(zoom + 10); } })));\n};\nvar Screener = function (props) {\n    var active = props.active, onToggle = props.onToggle;\n    return (React.createElement(\"div\", { className: cls + \"-screener\", style: {\n            backgroundImage: \"url(\" + (!active ? svgScreen1 : svgScreen0) + \")\",\n        }, onClick: function () { return onToggle && onToggle(!active); } }));\n};\nvar MiniMap = function (props) {\n    var editorUI = props.editorUI;\n    var ref = React.useRef(null);\n    var _a = React.useState(false), active = _a[0], setActive = _a[1];\n    React.useEffect(function () {\n        var outline;\n        if (ref.current) {\n            var container = ref.current;\n            outline = new mxOutline(editorUI.graph, container);\n            outline.setZoomEnabled(false);\n        }\n        return function () {\n            try {\n                outline && outline.destroy();\n            }\n            catch (e) {\n            }\n        };\n    }, [editorUI, active]);\n    var _cls = cls + \"-minimap\";\n    return (React.createElement(React.Fragment, null,\n        React.createElement(\"div\", { className: _cls, style: {\n                backgroundImage: \"url(\" + svgOutline + \")\",\n            }, onClick: function () { return setActive(!active); } }),\n        React.createElement(\"div\", { className: _cls + \"-modal\", style: {\n                display: active ? undefined : 'none',\n            } },\n            React.createElement(\"div\", { className: _cls + \"-header\" },\n                React.createElement(\"span\", { className: _cls + \"-title\" }, \"\\u5BFC\\u822A\\u5668\"),\n                React.createElement(\"span\", { className: _cls + \"-close\", onClick: function () { return setActive(false); } },\n                    React.createElement(\"img\", { src: svgDelete }))),\n            React.createElement(\"div\", { className: _cls + \"-content\", ref: ref }))));\n};\nvar Sidebar = function (props) {\n    var editorUI = props.editorUI, className = props.className, style = props.style;\n    React.useEffect(function () {\n    }, [editorUI]);\n    return (React.createElement(\"div\", { className: classnames(cls, className), style: style },\n        React.createElement(\"div\", { className: itemCls },\n            React.createElement(MiniMap, { editorUI: editorUI })),\n        React.createElement(\"div\", { className: itemCls },\n            React.createElement(Zoomer, { editorUI: editorUI })),\n        React.createElement(\"div\", { className: itemCls },\n            React.createElement(Screener, { editorUI: editorUI, onToggle: props.onToggleScreen, active: props.fullscreen }))));\n};\nexport default Sidebar;\n","export default __webpack_public_path__ + \"imgs/arrow-t-0.svg?bb7b7b74d4fcee4f6a0b92d405e48672\";","export default __webpack_public_path__ + \"imgs/arrow-t-1.svg?290acc278626a539ddd0bfe5eddff99e\";","export default __webpack_public_path__ + \"imgs/arrow-r-0.svg?5e38ba5588d2b0fbe00b19e9ba65df57\";","export default __webpack_public_path__ + \"imgs/arrow-r-1.svg?c8160a6b322dd2583cd35929daf889be\";","import { __assign, __spreadArrays } from \"tslib\";\nimport React from 'react';\nimport classnames from 'classnames';\nimport EditorUI from './components/editorui';\nimport Menubar, { data as menubarData, map as menubarMap } from './components/menubar';\nimport Toolbar, { data as toolbarData, map as toolbarMap } from './components/toolbar';\nimport Sidebar from './components/sidebar';\nimport svgArrowT0 from '@@/static/mxgraph/images/arrow-t-0.svg';\nimport svgArrowT1 from '@@/static/mxgraph/images/arrow-t-1.svg';\nimport svgArrowR0 from '@@/static/mxgraph/images/arrow-r-0.svg';\nimport svgArrowR1 from '@@/static/mxgraph/images/arrow-r-1.svg';\nimport { debounce } from './utils';\nexport * from './utils';\nexport * from './types';\nimport './style.scss';\nvar cls = 'bpm-flowchart';\nexport var Chart = function (props) {\n    var _a;\n    var isMobile = props.isMobile, className = props.className, style = props.style, wrappedComponentRef = props.wrappedComponentRef, _b = props.config, config = _b === void 0 ? {} : _b;\n    var ref = React.useRef(null);\n    var propsRef = React.useRef(props);\n    var _c = React.useState(), editorUI = _c[0], setEditorUI = _c[1];\n    var componentRef = React.useRef({});\n    React.useEffect(function () {\n        var container = ref.current;\n        if (!container) {\n            return;\n        }\n        var _editorUI = new EditorUI(container, __assign(__assign({ toolbar: {\n                data: toolbarData,\n                map: toolbarMap\n            }, menubar: {\n                data: menubarData,\n                map: menubarMap\n            } }, config), { onSelectCells: function (_, sender, event) {\n                propsRef.current.onSelectCells && propsRef.current.onSelectCells(_editorUI, __spreadArrays((sender.cells || [])), event);\n            } }));\n        setEditorUI(_editorUI);\n        return function () {\n            try {\n                ref.current && _editorUI && _editorUI.destroy();\n            }\n            catch (e) {\n            }\n        };\n    }, []);\n    React.useEffect(function () {\n        componentRef.current.editorUI = editorUI;\n        wrappedComponentRef && wrappedComponentRef(componentRef);\n        window['flowchart'] = (window['flowchart'] || []).concat([editorUI]);\n        return function () {\n            (window['flowchart'] || []).splice((window['flowchart'] || []).indexOf(editorUI), 1);\n        };\n    }, [editorUI]);\n    React.useEffect(function () {\n        propsRef.current = props;\n    }, [props]);\n    var _cls = cls + \"-chart\";\n    return (React.createElement(\"div\", { ref: ref, className: classnames(_cls, className, (_a = {},\n            _a[_cls + \"-readonly\"] = config.editable === false,\n            _a[_cls + \"-is-mobile\"] = isMobile,\n            _a)), style: style }));\n};\nvar FlowChart = function (props) {\n    var _a;\n    var className = props.className, style = props.style, onToggleScreen = props.onToggleScreen, wrappedComponentRef = props.wrappedComponentRef, _b = props.config, config = _b === void 0 ? {} : _b, _c = props.render, render = _c === void 0 ? {} : _c, isIFrame = props.isIFrame, isMobile = props.isMobile;\n    var _d = React.useState(null), editorUI = _d[0], setEditorUi = _d[1];\n    var _e = React.useState([]), selectedCells = _e[0], setSelectedCells = _e[1];\n    var _f = React.useState(false), topHidden = _f[0], setTopHidden = _f[1];\n    var _g = React.useState(false), leftHidden = _g[0], setLeftHidden = _g[1];\n    var _h = React.useState(false), rightHidden = _h[0], setRightHidden = _h[1];\n    var redraw = React.useCallback(function () { return editorUI && editorUI.redraw(300); }, [\n        editorUI\n    ]);\n    var onSelectCells = React.useCallback(function (editorUI, cells) {\n        setTimeout(function () {\n            setSelectedCells(cells);\n        });\n    }, []);\n    React.useEffect(function () {\n        var resize = debounce(function () {\n            redraw();\n        }, 100);\n        window.addEventListener('resize', resize);\n        return function () { return window.removeEventListener('resize', resize); };\n    }, [editorUI, isIFrame, isMobile]);\n    React.useEffect(function () {\n        onToggleScreen && onToggleScreen(topHidden);\n    }, [topHidden]);\n    return (React.createElement(\"div\", { className: classnames(cls, className, (_a = {},\n            _a[cls + \"-hide-top\"] = topHidden,\n            _a[cls + \"-hide-right\"] = rightHidden,\n            _a[cls + \"-no-right\"] = !render.rightPanel,\n            _a[cls + \"-hide-left\"] = leftHidden,\n            _a[cls + \"-no-left\"] = !render.leftPanel,\n            _a[cls + \"-readonly\"] = config.editable === false,\n            _a)), style: style },\n        editorUI && (React.createElement(\"div\", { className: cls + \"-t\" },\n            React.createElement(\"div\", { className: cls + \"-t-t\" },\n                React.createElement(\"div\", { className: cls + \"-t-t-l\" },\n                    React.createElement(Menubar, { data: config.menubar ? config.menubar.data : menubarData, editorUI: editorUI })),\n                React.createElement(\"div\", { className: cls + \"-t-t-s\" }),\n                React.createElement(\"div\", { className: cls + \"-t-t-r\" },\n                    React.createElement(Toolbar, { data: config.toolbar ? config.toolbar.data : toolbarData, editorUI: editorUI }))),\n            React.createElement(\"div\", { className: cls + \"-t-b\" },\n                React.createElement(\"div\", { className: cls + \"-toggler\", onClick: function () {\n                        setTopHidden(!topHidden);\n                        redraw();\n                    }, style: {\n                        backgroundImage: \"url(\" + (topHidden ? svgArrowT0 : svgArrowT1) + \")\"\n                    } })))),\n        React.createElement(\"div\", { className: cls + \"-b\" },\n            render.leftPanel && editorUI && (React.createElement(\"div\", { className: cls + \"-b-l\" },\n                React.createElement(\"div\", { className: cls + \"-b-l-l\" }, render.leftPanel && render.leftPanel(selectedCells, editorUI)),\n                React.createElement(\"div\", { className: cls + \"-b-l-r\" },\n                    React.createElement(\"div\", { className: cls + \"-toggler\", onClick: function () {\n                            setLeftHidden(!leftHidden);\n                            redraw();\n                        }, style: {\n                            backgroundImage: \"url(\" + (leftHidden ? svgArrowR0 : svgArrowR1) + \")\"\n                        } })))),\n            React.createElement(\"div\", { className: cls + \"-b-m\" },\n                React.createElement(Chart, { config: config, onSelectCells: onSelectCells, wrappedComponentRef: function (ref) {\n                        ref &&\n                            ref.current &&\n                            ref.current.editorUI &&\n                            setEditorUi(ref.current.editorUI);\n                        wrappedComponentRef && wrappedComponentRef(ref);\n                    } })),\n            render.rightPanel && editorUI && (React.createElement(\"div\", { className: cls + \"-b-r\" },\n                React.createElement(\"div\", { className: cls + \"-b-r-l\" },\n                    React.createElement(\"div\", { className: cls + \"-toggler\", onClick: function () {\n                            setRightHidden(!rightHidden);\n                            redraw();\n                        }, style: {\n                            backgroundImage: \"url(\" + (rightHidden ? svgArrowR0 : svgArrowR1) + \")\"\n                        } })),\n                React.createElement(\"div\", { className: cls + \"-b-r-r\" }, render.rightPanel && render.rightPanel(selectedCells, editorUI)))),\n            React.createElement(\"div\", { className: cls + \"-b-b\" }, editorUI && (React.createElement(Sidebar, { editorUI: editorUI, fullscreen: topHidden && rightHidden, onToggleScreen: function (active) {\n                    setTopHidden(active);\n                    setRightHidden(active);\n                    redraw();\n                } }))))));\n};\nexport default FlowChart;\n","import React from 'react';\nimport Flowchart from './index';\nvar Test = function () {\n    return React.createElement(Flowchart, null);\n};\nexport default Test;\n"],"sourceRoot":""}