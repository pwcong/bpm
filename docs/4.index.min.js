(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{127:function(e,t){},128:function(e,t){},129:function(e,t){},132:function(e,t,a){"use strict";a.d(t,"a",(function(){return b}));var n=a(27),r=a(0),c=a.n(r),l=a(262),u=a(266),i=a(257),o=a(253),s=a(271),d=a(9),m=a.n(d),p=a(256),f=(a(213),"bpm-cmpt-address-item"),v=function(e){var t,a=e.data,n=e.direction,r=void 0===n?"vertical":n,l=a.avatar,u=a.name;a.department;return c.a.createElement("div",{className:m()(f,(t={},t[f+"--"+r]=!!r,t))},c.a.createElement("div",{className:f+"-avatar"},c.a.createElement(p.a,{src:l},u)),c.a.createElement("div",{className:f+"-info"},c.a.createElement("div",{className:f+"-name"},u)))};a(214);function b(e){var t=e.api;return function(e){var a=e.className,r=e.defaultValue,d=void 0===r?[]:r,p=e.value,f=e.onChange,b=e.isMulti,E=e.wrappedComponentRef,h=e.locale,k=void 0===h?{}:h,N=e.searchPlaceholder,y=void 0===N?"搜地址本":N,g=k.empty,C=void 0===g?"暂无数据":g,w=c.a.useState(void 0!==p?p:d),O=w[0],j=w[1],T=c.a.useState([]),S=T[0],x=T[1],A=O.reduce((function(e,t){return e.set(t.id,t)}),new Map),R=c.a.useCallback((function(e){j(e),f&&f(e)}),[f]),V=c.a.useCallback((function(e){t.search(e).then((function(e){x(e)}))}),[]);return c.a.useEffect((function(){V("")}),[]),c.a.useEffect((function(){p&&j(p)}),[p]),c.a.useEffect((function(){E&&E({current:{handleOk:function(){return Promise.resolve(O)}}})})),c.a.createElement("div",{className:m()("bpm-cmpt-address",a)},c.a.createElement("div",{className:"bpm-cmpt-address-wrapper"},c.a.createElement("div",{className:"bpm-cmpt-address-t"},c.a.createElement(l.a.Search,{placeholder:y,onSearch:function(e){V(e)}})),c.a.createElement("div",{className:"bpm-cmpt-address-m"},S.length>0?c.a.createElement("div",{className:"bpm-cmpt-address-list"},S.map((function(e,t){return b?c.a.createElement(u.a,{key:e.id||t,checked:A.has(e.id),onChange:function(t){var a=t.target.checked;R(O.filter((function(t){return t.id!==e.id})).concat(a?[e]:[]))}},c.a.createElement(v,{direction:"horizontal",data:e})):c.a.createElement(i.default,{key:e.id||t,checked:A.has(e.id),onChange:function(t){R([e])}},c.a.createElement(v,{direction:"horizontal",data:e}))}))):c.a.createElement(o.a,{className:"bpm-cmpt-address-empty",description:C})),c.a.createElement("div",{className:"bpm-cmpt-address-b"},c.a.createElement("div",{className:"bpm-cmpt-address-value"},O.map((function(e,t){return c.a.createElement("div",{className:"bpm-cmpt-address-value-item",key:e.id||t},c.a.createElement(v,{data:e}),c.a.createElement(s.a,{className:"bpm-cmpt-address-value-item-btn",onClick:function(){var e=Object(n.d)(O);e.splice(t,1),R(e)}}))}))))))}}},134:function(e,t,a){},213:function(e,t,a){},214:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},260:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"getValue",(function(){return h})),a.d(n,"ESelectorType",(function(){return l})),a.d(n,"EHTMLType",(function(){return u})),a.d(n,"EValueType",(function(){return i})),a.d(n,"buildInputSelect",(function(){return g}));var r={};a.r(r),a.d(r,"default",(function(){return j}));var c={};a.r(c),a.d(c,"Address",(function(){return w})),a.d(c,"InputAddress",(function(){return r})),a.d(c,"InputSelect",(function(){return n}));var l,u,i,o=a(0),s=a.n(o),d=a(27),m=a(265),p=a(261),f=a(269),v=a(270),b=a(9),E=a.n(b);function h(e){return void 0!==e?Array.isArray(e)?e:[e].filter((function(e){return null!=e})):void 0}!function(e){e.dropdown="dropdown",e.modal="modal"}(l||(l={})),function(e){e.input="input",e.textarea="textarea"}(u||(u={})),function(e){e.object="object",e.string="string",e.number="number"}(i||(i={}));a(134);var k="bpm-cmpt-inputselect",N=k+"-value",y=N+"-item";function g(e){var t=e.selector,a=e.valueType,n=e.valueKeyProperty,r=void 0===n?"value":n,c=e.valueTextProperty,u=void 0===c?"text":c,o=e.valueRenderer,b=t.type,g=t.builder,C=t.title,w=function(e){var t,n=e.className,c=e.style,w=e.defaultValue,O=e.value,j=e.onChange,T=e.beforeChange,S=e.onRenderItem,x=e.onRenderValue,A=e.isMulti,R=e.htmlType,V=e.placeholder,P=void 0===V?"请选择":V,I=e.locale,M=void 0===I?{}:I,z=M.ok,J=void 0===z?"确定":z,K=M.cancel,F=void 0===K?"取消":K,H=s.a.useRef(),L=s.a.useState(h(w)||[]),q=L[0],B=L[1],D=s.a.useState(),G=D[0],Q=D[1],U=s.a.useState(!1),W=U[0],X=U[1];s.a.useEffect((function(){G!==O&&(Q(O),B(h(O)||[]))}),[O]);var Y=s.a.useCallback((function(e,t){A||e.length>0&&(e=[e[e.length-1]]),t&&X(!1);var a=function(e){B(e),A?j&&j(e):j&&j(e[0]||null)};T?T(e).then(a).catch((function(){})):a(e)}),[A,j]),Z=s.a.useCallback((function(e){Y(e,!0)}),[Y]),$=s.a.useCallback((function(){Y(Object(d.d)(q),!0)}),[q]),_=s.a.useCallback((function(){X(!0)}),[]),ee=s.a.useCallback((function(e){return e.length<=0?s.a.createElement("div",{className:N+"-placeholder"},P):void 0!==x?x(e):a===i.object?e.map((function(t,a){return s.a.createElement("span",{key:t[r]||a,className:y},s.a.createElement("span",{className:"bpm-cmpt-inputselect-value-item-title"},S?S(t,a,e):t[u]),s.a.createElement("span",{className:"bpm-cmpt-inputselect-value-item-btn"},s.a.createElement(f.a,{onClick:function(){e.splice(a,1),Y(Object(d.d)(e))}})))})):e.map((function(t,a){return s.a.createElement("span",{key:a,className:y},s.a.createElement("span",{className:"bpm-cmpt-inputselect-value-item-title"},S?S(t,a,e):t),s.a.createElement("span",{className:"bpm-cmpt-inputselect-value-item-btn"},s.a.createElement(f.a,{onClick:function(){e.splice(a,1),Y(Object(d.d)(e))}})))}))}),[P,x,S,a]),te=s.a.cloneElement(g(Object(d.a)(Object(d.a)({},e),{onOk:Z,onCancel:$,defaultValue:q,value:q,wrappedComponentRef:function(e){return H.current=e.current}}))),ae=s.a.createElement("div",{className:E()(k,n,(t={},t[k+"--"+b]=!!b,t[k+"--"+R]=!!R,t)),style:c},o?s.a.cloneElement(o(Object(d.a)(Object(d.a)({},e),{onChange:Y,defaultValue:q,value:q,onTrigger:_}))):s.a.createElement("div",{className:k+"-wrapper"},s.a.createElement("div",{className:k+"-value"},ee(q)),s.a.createElement("div",{className:k+"-trigger",onClick:_},s.a.createElement(v.a,null))));return b===l.dropdown?s.a.createElement(m.a,{visible:W,trigger:["click"],onVisibleChange:function(e){return!e&&$()},overlay:s.a.createElement("div",{className:k+"-dropdown"},te)},ae):s.a.createElement(s.a.Fragment,null,ae,s.a.createElement(p.a,{maskClosable:!1,title:C,visible:W,okText:J,cancelText:F,onCancel:$,onOk:function(){var e,t;null===(t=null===(e=H.current)||void 0===e?void 0:e.handleOk)||void 0===t||t.call(e).then((function(e){return Y(e,!0)}))}},te))};return s.a.forwardRef((function(e,t){return s.a.createElement(w,Object(d.a)({},e,{forwardedRef:t}))}))}var C,w=a(92),O=Object(w.buildAddress)({api:{search:function(){return Promise.resolve([])}}}),j=g({selector:{title:"地址本",type:l.modal,builder:function(e){return s.a.createElement(O,Object(d.a)({},e))}},valueType:i.object,valueKeyProperty:"id",valueTextProperty:"name"});a(272),a(10),a(229);!function(e){e.bottom="bottom",e.right="right"}(C||(C={}));var T;!function(e){e.popup="popup",e.drawer="drawer"}(T||(T={}));a(230);a(128),a(129),t.default=function(){return s.a.createElement("div",{style:{padding:"8px"}},s.a.createElement("div",null,s.a.createElement(c.InputAddress.default,null)))}},92:function(e,t,a){"use strict";a.r(t);var n=a(132);a.d(t,"buildAddress",(function(){return n.a}));var r=a(127);for(var c in r)["buildAddress","default"].indexOf(c)<0&&function(e){a.d(t,e,(function(){return r[e]}))}(c)}}]);
//# sourceMappingURL=4.index.min.js.map